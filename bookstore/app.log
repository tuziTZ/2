INFO:werkzeug: * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
ERROR:be.serve:Exception on /auth/register [POST]
Traceback (most recent call last):
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 2051, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1501, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1499, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1485, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "D:\githubcode\2\bookstore\be\view\auth.py", line 35, in register
    code, message = u.register(user_id=user_id, password=password)
  File "D:\githubcode\2\bookstore\be\model\user.py", line 63, in register
    token = jwt_encode(user_id, terminal)
  File "D:\githubcode\2\bookstore\be\model\user.py", line 26, in jwt_encode
    return encoded.decode("utf-8")
AttributeError: 'str' object has no attribute 'decode'
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 10:41:48] "[35m[1mPOST /auth/register HTTP/1.1[0m" 500 -
INFO:werkzeug: * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 10:45:54] "POST /auth/register HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 10:47:45] "POST /auth/register HTTP/1.1" 200 -
INFO:werkzeug: * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 11:04:36] "[35m[1mPOST /seller/create_store HTTP/1.1[0m" 530 -
INFO:werkzeug: * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 11:13:04] "POST /auth/register HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 11:13:04] "POST /auth/login HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 11:13:04] "[35m[1mPOST /seller/create_store HTTP/1.1[0m" 514 -
ERROR:be.serve:Exception on /auth/register [POST]
Traceback (most recent call last):
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 2051, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1501, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1499, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1485, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "D:\githubcode\2\bookstore\be\view\auth.py", line 35, in register
    code, message = u.register(user_id=user_id, password=password)
  File "D:\githubcode\2\bookstore\be\model\user.py", line 73, in register
    self.conn.commit()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\session.py", line 1969, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\state_changes.py", line 103, in _go
    self._raise_for_prerequisite_state(fn.__name__, current_state)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\session.py", line 929, in _raise_for_prerequisite_state
    raise sa_exc.PendingRollbackError(
sqlalchemy.exc.PendingRollbackError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (psycopg2.errors.ForeignKeyViolation) 错误:  插入或更新表 "user_store" 违反外键约束 "user_store_store_id_fkey"
DETAIL:  键值对(store_id)=(test_add_books_store_id_86890cb4-9e1c-11ee-84d1-44e5172dc7a0)没有在表"store"中出现.

[SQL: INSERT INTO user_store (user_id, store_id) VALUES (%(user_id)s, %(store_id)s)]
[parameters: {'user_id': 'test_add_books_seller_id_86890cb3-9e1c-11ee-a5d1-44e5172dc7a0', 'store_id': 'test_add_books_store_id_86890cb4-9e1c-11ee-84d1-44e5172dc7a0'}]
(Background on this error at: https://sqlalche.me/e/20/gkpj) (Background on this error at: https://sqlalche.me/e/20/7s2a)
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 11:13:05] "[35m[1mPOST /auth/register HTTP/1.1[0m" 500 -
ERROR:be.serve:Exception on /auth/register [POST]
Traceback (most recent call last):
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 2051, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1501, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1499, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1485, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "D:\githubcode\2\bookstore\be\view\auth.py", line 35, in register
    code, message = u.register(user_id=user_id, password=password)
  File "D:\githubcode\2\bookstore\be\model\user.py", line 73, in register
    self.conn.commit()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\session.py", line 1969, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\state_changes.py", line 103, in _go
    self._raise_for_prerequisite_state(fn.__name__, current_state)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\session.py", line 929, in _raise_for_prerequisite_state
    raise sa_exc.PendingRollbackError(
sqlalchemy.exc.PendingRollbackError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (psycopg2.errors.ForeignKeyViolation) 错误:  插入或更新表 "user_store" 违反外键约束 "user_store_store_id_fkey"
DETAIL:  键值对(store_id)=(test_add_books_store_id_86890cb4-9e1c-11ee-84d1-44e5172dc7a0)没有在表"store"中出现.

[SQL: INSERT INTO user_store (user_id, store_id) VALUES (%(user_id)s, %(store_id)s)]
[parameters: {'user_id': 'test_add_books_seller_id_86890cb3-9e1c-11ee-a5d1-44e5172dc7a0', 'store_id': 'test_add_books_store_id_86890cb4-9e1c-11ee-84d1-44e5172dc7a0'}]
(Background on this error at: https://sqlalche.me/e/20/gkpj) (Background on this error at: https://sqlalche.me/e/20/7s2a)
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 11:13:05] "[35m[1mPOST /auth/register HTTP/1.1[0m" 500 -
ERROR:be.serve:Exception on /auth/register [POST]
Traceback (most recent call last):
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 2051, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1501, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1499, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1485, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "D:\githubcode\2\bookstore\be\view\auth.py", line 35, in register
    code, message = u.register(user_id=user_id, password=password)
  File "D:\githubcode\2\bookstore\be\model\user.py", line 73, in register
    self.conn.commit()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\session.py", line 1969, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\state_changes.py", line 103, in _go
    self._raise_for_prerequisite_state(fn.__name__, current_state)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\session.py", line 929, in _raise_for_prerequisite_state
    raise sa_exc.PendingRollbackError(
sqlalchemy.exc.PendingRollbackError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (psycopg2.errors.ForeignKeyViolation) 错误:  插入或更新表 "user_store" 违反外键约束 "user_store_store_id_fkey"
DETAIL:  键值对(store_id)=(test_add_books_store_id_86890cb4-9e1c-11ee-84d1-44e5172dc7a0)没有在表"store"中出现.

[SQL: INSERT INTO user_store (user_id, store_id) VALUES (%(user_id)s, %(store_id)s)]
[parameters: {'user_id': 'test_add_books_seller_id_86890cb3-9e1c-11ee-a5d1-44e5172dc7a0', 'store_id': 'test_add_books_store_id_86890cb4-9e1c-11ee-84d1-44e5172dc7a0'}]
(Background on this error at: https://sqlalche.me/e/20/gkpj) (Background on this error at: https://sqlalche.me/e/20/7s2a)
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 11:13:05] "[35m[1mPOST /auth/register HTTP/1.1[0m" 500 -
ERROR:be.serve:Exception on /auth/register [POST]
Traceback (most recent call last):
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 2051, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1501, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1499, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1485, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "D:\githubcode\2\bookstore\be\view\auth.py", line 35, in register
    code, message = u.register(user_id=user_id, password=password)
  File "D:\githubcode\2\bookstore\be\model\user.py", line 73, in register
    self.conn.commit()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\session.py", line 1969, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\state_changes.py", line 103, in _go
    self._raise_for_prerequisite_state(fn.__name__, current_state)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\session.py", line 929, in _raise_for_prerequisite_state
    raise sa_exc.PendingRollbackError(
sqlalchemy.exc.PendingRollbackError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (psycopg2.errors.ForeignKeyViolation) 错误:  插入或更新表 "user_store" 违反外键约束 "user_store_store_id_fkey"
DETAIL:  键值对(store_id)=(test_add_books_store_id_86890cb4-9e1c-11ee-84d1-44e5172dc7a0)没有在表"store"中出现.

[SQL: INSERT INTO user_store (user_id, store_id) VALUES (%(user_id)s, %(store_id)s)]
[parameters: {'user_id': 'test_add_books_seller_id_86890cb3-9e1c-11ee-a5d1-44e5172dc7a0', 'store_id': 'test_add_books_store_id_86890cb4-9e1c-11ee-84d1-44e5172dc7a0'}]
(Background on this error at: https://sqlalche.me/e/20/gkpj) (Background on this error at: https://sqlalche.me/e/20/7s2a)
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 11:13:05] "[35m[1mPOST /auth/register HTTP/1.1[0m" 500 -
ERROR:be.serve:Exception on /auth/register [POST]
Traceback (most recent call last):
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 2051, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1501, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1499, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1485, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "D:\githubcode\2\bookstore\be\view\auth.py", line 35, in register
    code, message = u.register(user_id=user_id, password=password)
  File "D:\githubcode\2\bookstore\be\model\user.py", line 73, in register
    self.conn.commit()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\session.py", line 1969, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\state_changes.py", line 103, in _go
    self._raise_for_prerequisite_state(fn.__name__, current_state)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\session.py", line 929, in _raise_for_prerequisite_state
    raise sa_exc.PendingRollbackError(
sqlalchemy.exc.PendingRollbackError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (psycopg2.errors.ForeignKeyViolation) 错误:  插入或更新表 "user_store" 违反外键约束 "user_store_store_id_fkey"
DETAIL:  键值对(store_id)=(test_add_books_store_id_86890cb4-9e1c-11ee-84d1-44e5172dc7a0)没有在表"store"中出现.

[SQL: INSERT INTO user_store (user_id, store_id) VALUES (%(user_id)s, %(store_id)s)]
[parameters: {'user_id': 'test_add_books_seller_id_86890cb3-9e1c-11ee-a5d1-44e5172dc7a0', 'store_id': 'test_add_books_store_id_86890cb4-9e1c-11ee-84d1-44e5172dc7a0'}]
(Background on this error at: https://sqlalche.me/e/20/gkpj) (Background on this error at: https://sqlalche.me/e/20/7s2a)
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 11:13:05] "[35m[1mPOST /auth/register HTTP/1.1[0m" 500 -
ERROR:be.serve:Exception on /auth/register [POST]
Traceback (most recent call last):
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 2051, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1501, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1499, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1485, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "D:\githubcode\2\bookstore\be\view\auth.py", line 35, in register
    code, message = u.register(user_id=user_id, password=password)
  File "D:\githubcode\2\bookstore\be\model\user.py", line 73, in register
    self.conn.commit()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\session.py", line 1969, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\state_changes.py", line 103, in _go
    self._raise_for_prerequisite_state(fn.__name__, current_state)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\session.py", line 929, in _raise_for_prerequisite_state
    raise sa_exc.PendingRollbackError(
sqlalchemy.exc.PendingRollbackError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (psycopg2.errors.ForeignKeyViolation) 错误:  插入或更新表 "user_store" 违反外键约束 "user_store_store_id_fkey"
DETAIL:  键值对(store_id)=(test_add_books_store_id_86890cb4-9e1c-11ee-84d1-44e5172dc7a0)没有在表"store"中出现.

[SQL: INSERT INTO user_store (user_id, store_id) VALUES (%(user_id)s, %(store_id)s)]
[parameters: {'user_id': 'test_add_books_seller_id_86890cb3-9e1c-11ee-a5d1-44e5172dc7a0', 'store_id': 'test_add_books_store_id_86890cb4-9e1c-11ee-84d1-44e5172dc7a0'}]
(Background on this error at: https://sqlalche.me/e/20/gkpj) (Background on this error at: https://sqlalche.me/e/20/7s2a)
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 11:13:05] "[35m[1mPOST /auth/register HTTP/1.1[0m" 500 -
ERROR:be.serve:Exception on /auth/register [POST]
Traceback (most recent call last):
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 2051, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1501, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1499, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1485, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "D:\githubcode\2\bookstore\be\view\auth.py", line 35, in register
    code, message = u.register(user_id=user_id, password=password)
  File "D:\githubcode\2\bookstore\be\model\user.py", line 73, in register
    self.conn.commit()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\session.py", line 1969, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\state_changes.py", line 103, in _go
    self._raise_for_prerequisite_state(fn.__name__, current_state)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\session.py", line 929, in _raise_for_prerequisite_state
    raise sa_exc.PendingRollbackError(
sqlalchemy.exc.PendingRollbackError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (psycopg2.errors.ForeignKeyViolation) 错误:  插入或更新表 "user_store" 违反外键约束 "user_store_store_id_fkey"
DETAIL:  键值对(store_id)=(test_add_books_store_id_86890cb4-9e1c-11ee-84d1-44e5172dc7a0)没有在表"store"中出现.

[SQL: INSERT INTO user_store (user_id, store_id) VALUES (%(user_id)s, %(store_id)s)]
[parameters: {'user_id': 'test_add_books_seller_id_86890cb3-9e1c-11ee-a5d1-44e5172dc7a0', 'store_id': 'test_add_books_store_id_86890cb4-9e1c-11ee-84d1-44e5172dc7a0'}]
(Background on this error at: https://sqlalche.me/e/20/gkpj) (Background on this error at: https://sqlalche.me/e/20/7s2a)
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 11:13:05] "[35m[1mPOST /auth/register HTTP/1.1[0m" 500 -
ERROR:be.serve:Exception on /auth/register [POST]
Traceback (most recent call last):
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 2051, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1501, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1499, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1485, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "D:\githubcode\2\bookstore\be\view\auth.py", line 35, in register
    code, message = u.register(user_id=user_id, password=password)
  File "D:\githubcode\2\bookstore\be\model\user.py", line 73, in register
    self.conn.commit()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\session.py", line 1969, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\state_changes.py", line 103, in _go
    self._raise_for_prerequisite_state(fn.__name__, current_state)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\session.py", line 929, in _raise_for_prerequisite_state
    raise sa_exc.PendingRollbackError(
sqlalchemy.exc.PendingRollbackError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (psycopg2.errors.ForeignKeyViolation) 错误:  插入或更新表 "user_store" 违反外键约束 "user_store_store_id_fkey"
DETAIL:  键值对(store_id)=(test_add_books_store_id_86890cb4-9e1c-11ee-84d1-44e5172dc7a0)没有在表"store"中出现.

[SQL: INSERT INTO user_store (user_id, store_id) VALUES (%(user_id)s, %(store_id)s)]
[parameters: {'user_id': 'test_add_books_seller_id_86890cb3-9e1c-11ee-a5d1-44e5172dc7a0', 'store_id': 'test_add_books_store_id_86890cb4-9e1c-11ee-84d1-44e5172dc7a0'}]
(Background on this error at: https://sqlalche.me/e/20/gkpj) (Background on this error at: https://sqlalche.me/e/20/7s2a)
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 11:13:05] "[35m[1mPOST /auth/register HTTP/1.1[0m" 500 -
ERROR:be.serve:Exception on /auth/register [POST]
Traceback (most recent call last):
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 2051, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1501, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1499, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1485, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "D:\githubcode\2\bookstore\be\view\auth.py", line 35, in register
    code, message = u.register(user_id=user_id, password=password)
  File "D:\githubcode\2\bookstore\be\model\user.py", line 73, in register
    self.conn.commit()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\session.py", line 1969, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\state_changes.py", line 103, in _go
    self._raise_for_prerequisite_state(fn.__name__, current_state)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\session.py", line 929, in _raise_for_prerequisite_state
    raise sa_exc.PendingRollbackError(
sqlalchemy.exc.PendingRollbackError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (psycopg2.errors.ForeignKeyViolation) 错误:  插入或更新表 "user_store" 违反外键约束 "user_store_store_id_fkey"
DETAIL:  键值对(store_id)=(test_add_books_store_id_86890cb4-9e1c-11ee-84d1-44e5172dc7a0)没有在表"store"中出现.

[SQL: INSERT INTO user_store (user_id, store_id) VALUES (%(user_id)s, %(store_id)s)]
[parameters: {'user_id': 'test_add_books_seller_id_86890cb3-9e1c-11ee-a5d1-44e5172dc7a0', 'store_id': 'test_add_books_store_id_86890cb4-9e1c-11ee-84d1-44e5172dc7a0'}]
(Background on this error at: https://sqlalche.me/e/20/gkpj) (Background on this error at: https://sqlalche.me/e/20/7s2a)
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 11:13:05] "[35m[1mPOST /auth/register HTTP/1.1[0m" 500 -
ERROR:be.serve:Exception on /auth/register [POST]
Traceback (most recent call last):
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 2051, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1501, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1499, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1485, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "D:\githubcode\2\bookstore\be\view\auth.py", line 35, in register
    code, message = u.register(user_id=user_id, password=password)
  File "D:\githubcode\2\bookstore\be\model\user.py", line 73, in register
    self.conn.commit()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\session.py", line 1969, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\state_changes.py", line 103, in _go
    self._raise_for_prerequisite_state(fn.__name__, current_state)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\session.py", line 929, in _raise_for_prerequisite_state
    raise sa_exc.PendingRollbackError(
sqlalchemy.exc.PendingRollbackError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (psycopg2.errors.ForeignKeyViolation) 错误:  插入或更新表 "user_store" 违反外键约束 "user_store_store_id_fkey"
DETAIL:  键值对(store_id)=(test_add_books_store_id_86890cb4-9e1c-11ee-84d1-44e5172dc7a0)没有在表"store"中出现.

[SQL: INSERT INTO user_store (user_id, store_id) VALUES (%(user_id)s, %(store_id)s)]
[parameters: {'user_id': 'test_add_books_seller_id_86890cb3-9e1c-11ee-a5d1-44e5172dc7a0', 'store_id': 'test_add_books_store_id_86890cb4-9e1c-11ee-84d1-44e5172dc7a0'}]
(Background on this error at: https://sqlalche.me/e/20/gkpj) (Background on this error at: https://sqlalche.me/e/20/7s2a)
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 11:13:05] "[35m[1mPOST /auth/register HTTP/1.1[0m" 500 -
ERROR:be.serve:Exception on /auth/register [POST]
Traceback (most recent call last):
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 2051, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1501, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1499, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1485, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "D:\githubcode\2\bookstore\be\view\auth.py", line 35, in register
    code, message = u.register(user_id=user_id, password=password)
  File "D:\githubcode\2\bookstore\be\model\user.py", line 73, in register
    self.conn.commit()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\session.py", line 1969, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\state_changes.py", line 103, in _go
    self._raise_for_prerequisite_state(fn.__name__, current_state)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\session.py", line 929, in _raise_for_prerequisite_state
    raise sa_exc.PendingRollbackError(
sqlalchemy.exc.PendingRollbackError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (psycopg2.errors.ForeignKeyViolation) 错误:  插入或更新表 "user_store" 违反外键约束 "user_store_store_id_fkey"
DETAIL:  键值对(store_id)=(test_add_books_store_id_86890cb4-9e1c-11ee-84d1-44e5172dc7a0)没有在表"store"中出现.

[SQL: INSERT INTO user_store (user_id, store_id) VALUES (%(user_id)s, %(store_id)s)]
[parameters: {'user_id': 'test_add_books_seller_id_86890cb3-9e1c-11ee-a5d1-44e5172dc7a0', 'store_id': 'test_add_books_store_id_86890cb4-9e1c-11ee-84d1-44e5172dc7a0'}]
(Background on this error at: https://sqlalche.me/e/20/gkpj) (Background on this error at: https://sqlalche.me/e/20/7s2a)
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 11:13:05] "[35m[1mPOST /auth/register HTTP/1.1[0m" 500 -
ERROR:be.serve:Exception on /auth/register [POST]
Traceback (most recent call last):
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 2051, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1501, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1499, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1485, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "D:\githubcode\2\bookstore\be\view\auth.py", line 35, in register
    code, message = u.register(user_id=user_id, password=password)
  File "D:\githubcode\2\bookstore\be\model\user.py", line 73, in register
    self.conn.commit()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\session.py", line 1969, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\state_changes.py", line 103, in _go
    self._raise_for_prerequisite_state(fn.__name__, current_state)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\session.py", line 929, in _raise_for_prerequisite_state
    raise sa_exc.PendingRollbackError(
sqlalchemy.exc.PendingRollbackError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (psycopg2.errors.ForeignKeyViolation) 错误:  插入或更新表 "user_store" 违反外键约束 "user_store_store_id_fkey"
DETAIL:  键值对(store_id)=(test_add_books_store_id_86890cb4-9e1c-11ee-84d1-44e5172dc7a0)没有在表"store"中出现.

[SQL: INSERT INTO user_store (user_id, store_id) VALUES (%(user_id)s, %(store_id)s)]
[parameters: {'user_id': 'test_add_books_seller_id_86890cb3-9e1c-11ee-a5d1-44e5172dc7a0', 'store_id': 'test_add_books_store_id_86890cb4-9e1c-11ee-84d1-44e5172dc7a0'}]
(Background on this error at: https://sqlalche.me/e/20/gkpj) (Background on this error at: https://sqlalche.me/e/20/7s2a)
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 11:13:05] "[35m[1mPOST /auth/register HTTP/1.1[0m" 500 -
ERROR:be.serve:Exception on /auth/register [POST]
Traceback (most recent call last):
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 2051, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1501, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1499, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1485, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "D:\githubcode\2\bookstore\be\view\auth.py", line 35, in register
    code, message = u.register(user_id=user_id, password=password)
  File "D:\githubcode\2\bookstore\be\model\user.py", line 73, in register
    self.conn.commit()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\session.py", line 1969, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\state_changes.py", line 103, in _go
    self._raise_for_prerequisite_state(fn.__name__, current_state)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\session.py", line 929, in _raise_for_prerequisite_state
    raise sa_exc.PendingRollbackError(
sqlalchemy.exc.PendingRollbackError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (psycopg2.errors.ForeignKeyViolation) 错误:  插入或更新表 "user_store" 违反外键约束 "user_store_store_id_fkey"
DETAIL:  键值对(store_id)=(test_add_books_store_id_86890cb4-9e1c-11ee-84d1-44e5172dc7a0)没有在表"store"中出现.

[SQL: INSERT INTO user_store (user_id, store_id) VALUES (%(user_id)s, %(store_id)s)]
[parameters: {'user_id': 'test_add_books_seller_id_86890cb3-9e1c-11ee-a5d1-44e5172dc7a0', 'store_id': 'test_add_books_store_id_86890cb4-9e1c-11ee-84d1-44e5172dc7a0'}]
(Background on this error at: https://sqlalche.me/e/20/gkpj) (Background on this error at: https://sqlalche.me/e/20/7s2a)
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 11:13:05] "[35m[1mPOST /auth/register HTTP/1.1[0m" 500 -
ERROR:be.serve:Exception on /auth/register [POST]
Traceback (most recent call last):
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 2051, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1501, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1499, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1485, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "D:\githubcode\2\bookstore\be\view\auth.py", line 35, in register
    code, message = u.register(user_id=user_id, password=password)
  File "D:\githubcode\2\bookstore\be\model\user.py", line 73, in register
    self.conn.commit()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\session.py", line 1969, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\state_changes.py", line 103, in _go
    self._raise_for_prerequisite_state(fn.__name__, current_state)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\session.py", line 929, in _raise_for_prerequisite_state
    raise sa_exc.PendingRollbackError(
sqlalchemy.exc.PendingRollbackError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (psycopg2.errors.ForeignKeyViolation) 错误:  插入或更新表 "user_store" 违反外键约束 "user_store_store_id_fkey"
DETAIL:  键值对(store_id)=(test_add_books_store_id_86890cb4-9e1c-11ee-84d1-44e5172dc7a0)没有在表"store"中出现.

[SQL: INSERT INTO user_store (user_id, store_id) VALUES (%(user_id)s, %(store_id)s)]
[parameters: {'user_id': 'test_add_books_seller_id_86890cb3-9e1c-11ee-a5d1-44e5172dc7a0', 'store_id': 'test_add_books_store_id_86890cb4-9e1c-11ee-84d1-44e5172dc7a0'}]
(Background on this error at: https://sqlalche.me/e/20/gkpj) (Background on this error at: https://sqlalche.me/e/20/7s2a)
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 11:13:05] "[35m[1mPOST /auth/register HTTP/1.1[0m" 500 -
ERROR:be.serve:Exception on /auth/register [POST]
Traceback (most recent call last):
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 2051, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1501, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1499, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1485, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "D:\githubcode\2\bookstore\be\view\auth.py", line 35, in register
    code, message = u.register(user_id=user_id, password=password)
  File "D:\githubcode\2\bookstore\be\model\user.py", line 73, in register
    self.conn.commit()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\session.py", line 1969, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\state_changes.py", line 103, in _go
    self._raise_for_prerequisite_state(fn.__name__, current_state)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\session.py", line 929, in _raise_for_prerequisite_state
    raise sa_exc.PendingRollbackError(
sqlalchemy.exc.PendingRollbackError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (psycopg2.errors.ForeignKeyViolation) 错误:  插入或更新表 "user_store" 违反外键约束 "user_store_store_id_fkey"
DETAIL:  键值对(store_id)=(test_add_books_store_id_86890cb4-9e1c-11ee-84d1-44e5172dc7a0)没有在表"store"中出现.

[SQL: INSERT INTO user_store (user_id, store_id) VALUES (%(user_id)s, %(store_id)s)]
[parameters: {'user_id': 'test_add_books_seller_id_86890cb3-9e1c-11ee-a5d1-44e5172dc7a0', 'store_id': 'test_add_books_store_id_86890cb4-9e1c-11ee-84d1-44e5172dc7a0'}]
(Background on this error at: https://sqlalche.me/e/20/gkpj) (Background on this error at: https://sqlalche.me/e/20/7s2a)
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 11:13:05] "[35m[1mPOST /auth/register HTTP/1.1[0m" 500 -
ERROR:be.serve:Exception on /auth/register [POST]
Traceback (most recent call last):
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 2051, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1501, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1499, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1485, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "D:\githubcode\2\bookstore\be\view\auth.py", line 35, in register
    code, message = u.register(user_id=user_id, password=password)
  File "D:\githubcode\2\bookstore\be\model\user.py", line 73, in register
    self.conn.commit()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\session.py", line 1969, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\state_changes.py", line 103, in _go
    self._raise_for_prerequisite_state(fn.__name__, current_state)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\session.py", line 929, in _raise_for_prerequisite_state
    raise sa_exc.PendingRollbackError(
sqlalchemy.exc.PendingRollbackError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (psycopg2.errors.ForeignKeyViolation) 错误:  插入或更新表 "user_store" 违反外键约束 "user_store_store_id_fkey"
DETAIL:  键值对(store_id)=(test_add_books_store_id_86890cb4-9e1c-11ee-84d1-44e5172dc7a0)没有在表"store"中出现.

[SQL: INSERT INTO user_store (user_id, store_id) VALUES (%(user_id)s, %(store_id)s)]
[parameters: {'user_id': 'test_add_books_seller_id_86890cb3-9e1c-11ee-a5d1-44e5172dc7a0', 'store_id': 'test_add_books_store_id_86890cb4-9e1c-11ee-84d1-44e5172dc7a0'}]
(Background on this error at: https://sqlalche.me/e/20/gkpj) (Background on this error at: https://sqlalche.me/e/20/7s2a)
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 11:13:05] "[35m[1mPOST /auth/register HTTP/1.1[0m" 500 -
ERROR:be.serve:Exception on /auth/register [POST]
Traceback (most recent call last):
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 2051, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1501, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1499, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1485, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "D:\githubcode\2\bookstore\be\view\auth.py", line 35, in register
    code, message = u.register(user_id=user_id, password=password)
  File "D:\githubcode\2\bookstore\be\model\user.py", line 73, in register
    self.conn.commit()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\session.py", line 1969, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\state_changes.py", line 103, in _go
    self._raise_for_prerequisite_state(fn.__name__, current_state)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\session.py", line 929, in _raise_for_prerequisite_state
    raise sa_exc.PendingRollbackError(
sqlalchemy.exc.PendingRollbackError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (psycopg2.errors.ForeignKeyViolation) 错误:  插入或更新表 "user_store" 违反外键约束 "user_store_store_id_fkey"
DETAIL:  键值对(store_id)=(test_add_books_store_id_86890cb4-9e1c-11ee-84d1-44e5172dc7a0)没有在表"store"中出现.

[SQL: INSERT INTO user_store (user_id, store_id) VALUES (%(user_id)s, %(store_id)s)]
[parameters: {'user_id': 'test_add_books_seller_id_86890cb3-9e1c-11ee-a5d1-44e5172dc7a0', 'store_id': 'test_add_books_store_id_86890cb4-9e1c-11ee-84d1-44e5172dc7a0'}]
(Background on this error at: https://sqlalche.me/e/20/gkpj) (Background on this error at: https://sqlalche.me/e/20/7s2a)
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 11:13:05] "[35m[1mPOST /auth/register HTTP/1.1[0m" 500 -
ERROR:be.serve:Exception on /auth/register [POST]
Traceback (most recent call last):
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 2051, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1501, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1499, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1485, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "D:\githubcode\2\bookstore\be\view\auth.py", line 35, in register
    code, message = u.register(user_id=user_id, password=password)
  File "D:\githubcode\2\bookstore\be\model\user.py", line 73, in register
    self.conn.commit()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\session.py", line 1969, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\state_changes.py", line 103, in _go
    self._raise_for_prerequisite_state(fn.__name__, current_state)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\session.py", line 929, in _raise_for_prerequisite_state
    raise sa_exc.PendingRollbackError(
sqlalchemy.exc.PendingRollbackError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (psycopg2.errors.ForeignKeyViolation) 错误:  插入或更新表 "user_store" 违反外键约束 "user_store_store_id_fkey"
DETAIL:  键值对(store_id)=(test_add_books_store_id_86890cb4-9e1c-11ee-84d1-44e5172dc7a0)没有在表"store"中出现.

[SQL: INSERT INTO user_store (user_id, store_id) VALUES (%(user_id)s, %(store_id)s)]
[parameters: {'user_id': 'test_add_books_seller_id_86890cb3-9e1c-11ee-a5d1-44e5172dc7a0', 'store_id': 'test_add_books_store_id_86890cb4-9e1c-11ee-84d1-44e5172dc7a0'}]
(Background on this error at: https://sqlalche.me/e/20/gkpj) (Background on this error at: https://sqlalche.me/e/20/7s2a)
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 11:13:05] "[35m[1mPOST /auth/register HTTP/1.1[0m" 500 -
ERROR:be.serve:Exception on /auth/register [POST]
Traceback (most recent call last):
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 2051, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1501, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1499, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1485, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "D:\githubcode\2\bookstore\be\view\auth.py", line 35, in register
    code, message = u.register(user_id=user_id, password=password)
  File "D:\githubcode\2\bookstore\be\model\user.py", line 73, in register
    self.conn.commit()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\session.py", line 1969, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\state_changes.py", line 103, in _go
    self._raise_for_prerequisite_state(fn.__name__, current_state)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\session.py", line 929, in _raise_for_prerequisite_state
    raise sa_exc.PendingRollbackError(
sqlalchemy.exc.PendingRollbackError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (psycopg2.errors.ForeignKeyViolation) 错误:  插入或更新表 "user_store" 违反外键约束 "user_store_store_id_fkey"
DETAIL:  键值对(store_id)=(test_add_books_store_id_86890cb4-9e1c-11ee-84d1-44e5172dc7a0)没有在表"store"中出现.

[SQL: INSERT INTO user_store (user_id, store_id) VALUES (%(user_id)s, %(store_id)s)]
[parameters: {'user_id': 'test_add_books_seller_id_86890cb3-9e1c-11ee-a5d1-44e5172dc7a0', 'store_id': 'test_add_books_store_id_86890cb4-9e1c-11ee-84d1-44e5172dc7a0'}]
(Background on this error at: https://sqlalche.me/e/20/gkpj) (Background on this error at: https://sqlalche.me/e/20/7s2a)
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 11:13:05] "[35m[1mPOST /auth/register HTTP/1.1[0m" 500 -
ERROR:be.serve:Exception on /auth/register [POST]
Traceback (most recent call last):
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 2051, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1501, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1499, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1485, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "D:\githubcode\2\bookstore\be\view\auth.py", line 35, in register
    code, message = u.register(user_id=user_id, password=password)
  File "D:\githubcode\2\bookstore\be\model\user.py", line 73, in register
    self.conn.commit()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\session.py", line 1969, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\state_changes.py", line 103, in _go
    self._raise_for_prerequisite_state(fn.__name__, current_state)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\session.py", line 929, in _raise_for_prerequisite_state
    raise sa_exc.PendingRollbackError(
sqlalchemy.exc.PendingRollbackError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (psycopg2.errors.ForeignKeyViolation) 错误:  插入或更新表 "user_store" 违反外键约束 "user_store_store_id_fkey"
DETAIL:  键值对(store_id)=(test_add_books_store_id_86890cb4-9e1c-11ee-84d1-44e5172dc7a0)没有在表"store"中出现.

[SQL: INSERT INTO user_store (user_id, store_id) VALUES (%(user_id)s, %(store_id)s)]
[parameters: {'user_id': 'test_add_books_seller_id_86890cb3-9e1c-11ee-a5d1-44e5172dc7a0', 'store_id': 'test_add_books_store_id_86890cb4-9e1c-11ee-84d1-44e5172dc7a0'}]
(Background on this error at: https://sqlalche.me/e/20/gkpj) (Background on this error at: https://sqlalche.me/e/20/7s2a)
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 11:13:05] "[35m[1mPOST /auth/register HTTP/1.1[0m" 500 -
ERROR:be.serve:Exception on /auth/register [POST]
Traceback (most recent call last):
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 2051, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1501, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1499, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1485, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "D:\githubcode\2\bookstore\be\view\auth.py", line 35, in register
    code, message = u.register(user_id=user_id, password=password)
  File "D:\githubcode\2\bookstore\be\model\user.py", line 73, in register
    self.conn.commit()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\session.py", line 1969, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\state_changes.py", line 103, in _go
    self._raise_for_prerequisite_state(fn.__name__, current_state)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\session.py", line 929, in _raise_for_prerequisite_state
    raise sa_exc.PendingRollbackError(
sqlalchemy.exc.PendingRollbackError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (psycopg2.errors.ForeignKeyViolation) 错误:  插入或更新表 "user_store" 违反外键约束 "user_store_store_id_fkey"
DETAIL:  键值对(store_id)=(test_add_books_store_id_86890cb4-9e1c-11ee-84d1-44e5172dc7a0)没有在表"store"中出现.

[SQL: INSERT INTO user_store (user_id, store_id) VALUES (%(user_id)s, %(store_id)s)]
[parameters: {'user_id': 'test_add_books_seller_id_86890cb3-9e1c-11ee-a5d1-44e5172dc7a0', 'store_id': 'test_add_books_store_id_86890cb4-9e1c-11ee-84d1-44e5172dc7a0'}]
(Background on this error at: https://sqlalche.me/e/20/gkpj) (Background on this error at: https://sqlalche.me/e/20/7s2a)
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 11:13:05] "[35m[1mPOST /auth/register HTTP/1.1[0m" 500 -
ERROR:be.serve:Exception on /auth/register [POST]
Traceback (most recent call last):
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 2051, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1501, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1499, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1485, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "D:\githubcode\2\bookstore\be\view\auth.py", line 35, in register
    code, message = u.register(user_id=user_id, password=password)
  File "D:\githubcode\2\bookstore\be\model\user.py", line 73, in register
    self.conn.commit()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\session.py", line 1969, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\state_changes.py", line 103, in _go
    self._raise_for_prerequisite_state(fn.__name__, current_state)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\session.py", line 929, in _raise_for_prerequisite_state
    raise sa_exc.PendingRollbackError(
sqlalchemy.exc.PendingRollbackError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (psycopg2.errors.ForeignKeyViolation) 错误:  插入或更新表 "user_store" 违反外键约束 "user_store_store_id_fkey"
DETAIL:  键值对(store_id)=(test_add_books_store_id_86890cb4-9e1c-11ee-84d1-44e5172dc7a0)没有在表"store"中出现.

[SQL: INSERT INTO user_store (user_id, store_id) VALUES (%(user_id)s, %(store_id)s)]
[parameters: {'user_id': 'test_add_books_seller_id_86890cb3-9e1c-11ee-a5d1-44e5172dc7a0', 'store_id': 'test_add_books_store_id_86890cb4-9e1c-11ee-84d1-44e5172dc7a0'}]
(Background on this error at: https://sqlalche.me/e/20/gkpj) (Background on this error at: https://sqlalche.me/e/20/7s2a)
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 11:13:05] "[35m[1mPOST /auth/register HTTP/1.1[0m" 500 -
ERROR:be.serve:Exception on /auth/register [POST]
Traceback (most recent call last):
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 2051, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1501, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1499, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1485, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "D:\githubcode\2\bookstore\be\view\auth.py", line 35, in register
    code, message = u.register(user_id=user_id, password=password)
  File "D:\githubcode\2\bookstore\be\model\user.py", line 73, in register
    self.conn.commit()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\session.py", line 1969, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\state_changes.py", line 103, in _go
    self._raise_for_prerequisite_state(fn.__name__, current_state)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\session.py", line 929, in _raise_for_prerequisite_state
    raise sa_exc.PendingRollbackError(
sqlalchemy.exc.PendingRollbackError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (psycopg2.errors.ForeignKeyViolation) 错误:  插入或更新表 "user_store" 违反外键约束 "user_store_store_id_fkey"
DETAIL:  键值对(store_id)=(test_add_books_store_id_86890cb4-9e1c-11ee-84d1-44e5172dc7a0)没有在表"store"中出现.

[SQL: INSERT INTO user_store (user_id, store_id) VALUES (%(user_id)s, %(store_id)s)]
[parameters: {'user_id': 'test_add_books_seller_id_86890cb3-9e1c-11ee-a5d1-44e5172dc7a0', 'store_id': 'test_add_books_store_id_86890cb4-9e1c-11ee-84d1-44e5172dc7a0'}]
(Background on this error at: https://sqlalche.me/e/20/gkpj) (Background on this error at: https://sqlalche.me/e/20/7s2a)
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 11:13:05] "[35m[1mPOST /auth/register HTTP/1.1[0m" 500 -
ERROR:be.serve:Exception on /auth/register [POST]
Traceback (most recent call last):
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 2051, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1501, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1499, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1485, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "D:\githubcode\2\bookstore\be\view\auth.py", line 35, in register
    code, message = u.register(user_id=user_id, password=password)
  File "D:\githubcode\2\bookstore\be\model\user.py", line 73, in register
    self.conn.commit()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\session.py", line 1969, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\state_changes.py", line 103, in _go
    self._raise_for_prerequisite_state(fn.__name__, current_state)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\session.py", line 929, in _raise_for_prerequisite_state
    raise sa_exc.PendingRollbackError(
sqlalchemy.exc.PendingRollbackError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (psycopg2.errors.ForeignKeyViolation) 错误:  插入或更新表 "user_store" 违反外键约束 "user_store_store_id_fkey"
DETAIL:  键值对(store_id)=(test_add_books_store_id_86890cb4-9e1c-11ee-84d1-44e5172dc7a0)没有在表"store"中出现.

[SQL: INSERT INTO user_store (user_id, store_id) VALUES (%(user_id)s, %(store_id)s)]
[parameters: {'user_id': 'test_add_books_seller_id_86890cb3-9e1c-11ee-a5d1-44e5172dc7a0', 'store_id': 'test_add_books_store_id_86890cb4-9e1c-11ee-84d1-44e5172dc7a0'}]
(Background on this error at: https://sqlalche.me/e/20/gkpj) (Background on this error at: https://sqlalche.me/e/20/7s2a)
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 11:13:05] "[35m[1mPOST /auth/register HTTP/1.1[0m" 500 -
ERROR:be.serve:Exception on /auth/register [POST]
Traceback (most recent call last):
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 2051, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1501, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1499, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1485, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "D:\githubcode\2\bookstore\be\view\auth.py", line 35, in register
    code, message = u.register(user_id=user_id, password=password)
  File "D:\githubcode\2\bookstore\be\model\user.py", line 73, in register
    self.conn.commit()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\session.py", line 1969, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\state_changes.py", line 103, in _go
    self._raise_for_prerequisite_state(fn.__name__, current_state)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\session.py", line 929, in _raise_for_prerequisite_state
    raise sa_exc.PendingRollbackError(
sqlalchemy.exc.PendingRollbackError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (psycopg2.errors.ForeignKeyViolation) 错误:  插入或更新表 "user_store" 违反外键约束 "user_store_store_id_fkey"
DETAIL:  键值对(store_id)=(test_add_books_store_id_86890cb4-9e1c-11ee-84d1-44e5172dc7a0)没有在表"store"中出现.

[SQL: INSERT INTO user_store (user_id, store_id) VALUES (%(user_id)s, %(store_id)s)]
[parameters: {'user_id': 'test_add_books_seller_id_86890cb3-9e1c-11ee-a5d1-44e5172dc7a0', 'store_id': 'test_add_books_store_id_86890cb4-9e1c-11ee-84d1-44e5172dc7a0'}]
(Background on this error at: https://sqlalche.me/e/20/gkpj) (Background on this error at: https://sqlalche.me/e/20/7s2a)
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 11:13:05] "[35m[1mPOST /auth/register HTTP/1.1[0m" 500 -
ERROR:be.serve:Exception on /auth/register [POST]
Traceback (most recent call last):
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 2051, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1501, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1499, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1485, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "D:\githubcode\2\bookstore\be\view\auth.py", line 35, in register
    code, message = u.register(user_id=user_id, password=password)
  File "D:\githubcode\2\bookstore\be\model\user.py", line 73, in register
    self.conn.commit()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\session.py", line 1969, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\state_changes.py", line 103, in _go
    self._raise_for_prerequisite_state(fn.__name__, current_state)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\session.py", line 929, in _raise_for_prerequisite_state
    raise sa_exc.PendingRollbackError(
sqlalchemy.exc.PendingRollbackError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (psycopg2.errors.ForeignKeyViolation) 错误:  插入或更新表 "user_store" 违反外键约束 "user_store_store_id_fkey"
DETAIL:  键值对(store_id)=(test_add_books_store_id_86890cb4-9e1c-11ee-84d1-44e5172dc7a0)没有在表"store"中出现.

[SQL: INSERT INTO user_store (user_id, store_id) VALUES (%(user_id)s, %(store_id)s)]
[parameters: {'user_id': 'test_add_books_seller_id_86890cb3-9e1c-11ee-a5d1-44e5172dc7a0', 'store_id': 'test_add_books_store_id_86890cb4-9e1c-11ee-84d1-44e5172dc7a0'}]
(Background on this error at: https://sqlalche.me/e/20/gkpj) (Background on this error at: https://sqlalche.me/e/20/7s2a)
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 11:13:05] "[35m[1mPOST /auth/register HTTP/1.1[0m" 500 -
ERROR:be.serve:Exception on /auth/register [POST]
Traceback (most recent call last):
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 2051, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1501, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1499, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1485, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "D:\githubcode\2\bookstore\be\view\auth.py", line 35, in register
    code, message = u.register(user_id=user_id, password=password)
  File "D:\githubcode\2\bookstore\be\model\user.py", line 73, in register
    self.conn.commit()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\session.py", line 1969, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\state_changes.py", line 103, in _go
    self._raise_for_prerequisite_state(fn.__name__, current_state)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\session.py", line 929, in _raise_for_prerequisite_state
    raise sa_exc.PendingRollbackError(
sqlalchemy.exc.PendingRollbackError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (psycopg2.errors.ForeignKeyViolation) 错误:  插入或更新表 "user_store" 违反外键约束 "user_store_store_id_fkey"
DETAIL:  键值对(store_id)=(test_add_books_store_id_86890cb4-9e1c-11ee-84d1-44e5172dc7a0)没有在表"store"中出现.

[SQL: INSERT INTO user_store (user_id, store_id) VALUES (%(user_id)s, %(store_id)s)]
[parameters: {'user_id': 'test_add_books_seller_id_86890cb3-9e1c-11ee-a5d1-44e5172dc7a0', 'store_id': 'test_add_books_store_id_86890cb4-9e1c-11ee-84d1-44e5172dc7a0'}]
(Background on this error at: https://sqlalche.me/e/20/gkpj) (Background on this error at: https://sqlalche.me/e/20/7s2a)
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 11:13:05] "[35m[1mPOST /auth/register HTTP/1.1[0m" 500 -
ERROR:be.serve:Exception on /auth/register [POST]
Traceback (most recent call last):
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 2051, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1501, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1499, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1485, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "D:\githubcode\2\bookstore\be\view\auth.py", line 35, in register
    code, message = u.register(user_id=user_id, password=password)
  File "D:\githubcode\2\bookstore\be\model\user.py", line 73, in register
    self.conn.commit()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\session.py", line 1969, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\state_changes.py", line 103, in _go
    self._raise_for_prerequisite_state(fn.__name__, current_state)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\session.py", line 929, in _raise_for_prerequisite_state
    raise sa_exc.PendingRollbackError(
sqlalchemy.exc.PendingRollbackError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (psycopg2.errors.ForeignKeyViolation) 错误:  插入或更新表 "user_store" 违反外键约束 "user_store_store_id_fkey"
DETAIL:  键值对(store_id)=(test_add_books_store_id_86890cb4-9e1c-11ee-84d1-44e5172dc7a0)没有在表"store"中出现.

[SQL: INSERT INTO user_store (user_id, store_id) VALUES (%(user_id)s, %(store_id)s)]
[parameters: {'user_id': 'test_add_books_seller_id_86890cb3-9e1c-11ee-a5d1-44e5172dc7a0', 'store_id': 'test_add_books_store_id_86890cb4-9e1c-11ee-84d1-44e5172dc7a0'}]
(Background on this error at: https://sqlalche.me/e/20/gkpj) (Background on this error at: https://sqlalche.me/e/20/7s2a)
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 11:13:05] "[35m[1mPOST /auth/register HTTP/1.1[0m" 500 -
ERROR:be.serve:Exception on /auth/register [POST]
Traceback (most recent call last):
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 2051, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1501, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1499, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1485, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "D:\githubcode\2\bookstore\be\view\auth.py", line 35, in register
    code, message = u.register(user_id=user_id, password=password)
  File "D:\githubcode\2\bookstore\be\model\user.py", line 73, in register
    self.conn.commit()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\session.py", line 1969, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\state_changes.py", line 103, in _go
    self._raise_for_prerequisite_state(fn.__name__, current_state)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\session.py", line 929, in _raise_for_prerequisite_state
    raise sa_exc.PendingRollbackError(
sqlalchemy.exc.PendingRollbackError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (psycopg2.errors.ForeignKeyViolation) 错误:  插入或更新表 "user_store" 违反外键约束 "user_store_store_id_fkey"
DETAIL:  键值对(store_id)=(test_add_books_store_id_86890cb4-9e1c-11ee-84d1-44e5172dc7a0)没有在表"store"中出现.

[SQL: INSERT INTO user_store (user_id, store_id) VALUES (%(user_id)s, %(store_id)s)]
[parameters: {'user_id': 'test_add_books_seller_id_86890cb3-9e1c-11ee-a5d1-44e5172dc7a0', 'store_id': 'test_add_books_store_id_86890cb4-9e1c-11ee-84d1-44e5172dc7a0'}]
(Background on this error at: https://sqlalche.me/e/20/gkpj) (Background on this error at: https://sqlalche.me/e/20/7s2a)
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 11:13:05] "[35m[1mPOST /auth/register HTTP/1.1[0m" 500 -
ERROR:be.serve:Exception on /auth/register [POST]
Traceback (most recent call last):
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 2051, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1501, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1499, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1485, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "D:\githubcode\2\bookstore\be\view\auth.py", line 35, in register
    code, message = u.register(user_id=user_id, password=password)
  File "D:\githubcode\2\bookstore\be\model\user.py", line 73, in register
    self.conn.commit()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\session.py", line 1969, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\state_changes.py", line 103, in _go
    self._raise_for_prerequisite_state(fn.__name__, current_state)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\session.py", line 929, in _raise_for_prerequisite_state
    raise sa_exc.PendingRollbackError(
sqlalchemy.exc.PendingRollbackError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (psycopg2.errors.ForeignKeyViolation) 错误:  插入或更新表 "user_store" 违反外键约束 "user_store_store_id_fkey"
DETAIL:  键值对(store_id)=(test_add_books_store_id_86890cb4-9e1c-11ee-84d1-44e5172dc7a0)没有在表"store"中出现.

[SQL: INSERT INTO user_store (user_id, store_id) VALUES (%(user_id)s, %(store_id)s)]
[parameters: {'user_id': 'test_add_books_seller_id_86890cb3-9e1c-11ee-a5d1-44e5172dc7a0', 'store_id': 'test_add_books_store_id_86890cb4-9e1c-11ee-84d1-44e5172dc7a0'}]
(Background on this error at: https://sqlalche.me/e/20/gkpj) (Background on this error at: https://sqlalche.me/e/20/7s2a)
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 11:13:05] "[35m[1mPOST /auth/register HTTP/1.1[0m" 500 -
ERROR:be.serve:Exception on /auth/register [POST]
Traceback (most recent call last):
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 2051, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1501, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1499, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1485, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "D:\githubcode\2\bookstore\be\view\auth.py", line 35, in register
    code, message = u.register(user_id=user_id, password=password)
  File "D:\githubcode\2\bookstore\be\model\user.py", line 73, in register
    self.conn.commit()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\session.py", line 1969, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\state_changes.py", line 103, in _go
    self._raise_for_prerequisite_state(fn.__name__, current_state)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\session.py", line 929, in _raise_for_prerequisite_state
    raise sa_exc.PendingRollbackError(
sqlalchemy.exc.PendingRollbackError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (psycopg2.errors.ForeignKeyViolation) 错误:  插入或更新表 "user_store" 违反外键约束 "user_store_store_id_fkey"
DETAIL:  键值对(store_id)=(test_add_books_store_id_86890cb4-9e1c-11ee-84d1-44e5172dc7a0)没有在表"store"中出现.

[SQL: INSERT INTO user_store (user_id, store_id) VALUES (%(user_id)s, %(store_id)s)]
[parameters: {'user_id': 'test_add_books_seller_id_86890cb3-9e1c-11ee-a5d1-44e5172dc7a0', 'store_id': 'test_add_books_store_id_86890cb4-9e1c-11ee-84d1-44e5172dc7a0'}]
(Background on this error at: https://sqlalche.me/e/20/gkpj) (Background on this error at: https://sqlalche.me/e/20/7s2a)
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 11:13:05] "[35m[1mPOST /auth/register HTTP/1.1[0m" 500 -
ERROR:be.serve:Exception on /auth/register [POST]
Traceback (most recent call last):
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 2051, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1501, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1499, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1485, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "D:\githubcode\2\bookstore\be\view\auth.py", line 35, in register
    code, message = u.register(user_id=user_id, password=password)
  File "D:\githubcode\2\bookstore\be\model\user.py", line 73, in register
    self.conn.commit()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\session.py", line 1969, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\state_changes.py", line 103, in _go
    self._raise_for_prerequisite_state(fn.__name__, current_state)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\session.py", line 929, in _raise_for_prerequisite_state
    raise sa_exc.PendingRollbackError(
sqlalchemy.exc.PendingRollbackError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (psycopg2.errors.ForeignKeyViolation) 错误:  插入或更新表 "user_store" 违反外键约束 "user_store_store_id_fkey"
DETAIL:  键值对(store_id)=(test_add_books_store_id_86890cb4-9e1c-11ee-84d1-44e5172dc7a0)没有在表"store"中出现.

[SQL: INSERT INTO user_store (user_id, store_id) VALUES (%(user_id)s, %(store_id)s)]
[parameters: {'user_id': 'test_add_books_seller_id_86890cb3-9e1c-11ee-a5d1-44e5172dc7a0', 'store_id': 'test_add_books_store_id_86890cb4-9e1c-11ee-84d1-44e5172dc7a0'}]
(Background on this error at: https://sqlalche.me/e/20/gkpj) (Background on this error at: https://sqlalche.me/e/20/7s2a)
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 11:13:05] "[35m[1mPOST /auth/register HTTP/1.1[0m" 500 -
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 11:13:06] "GET /shutdown HTTP/1.1" 200 -
INFO:werkzeug: * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
INFO:werkzeug: * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 11:14:55] "POST /auth/register HTTP/1.1" 200 -
ERROR:be.serve:Exception on /auth/register [POST]
Traceback (most recent call last):
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 2051, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1501, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1499, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1485, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "D:\githubcode\2\bookstore\be\view\auth.py", line 32, in register
    user_id = request.json.get("user_id", "")
AttributeError: 'NoneType' object has no attribute 'get'
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 11:15:04] "[35m[1mPOST /auth/register HTTP/1.1[0m" 500 -
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 11:15:52] "POST /auth/register HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 11:16:25] "[35m[1mPOST /seller/create_store HTTP/1.1[0m" 514 -
INFO:werkzeug: * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 11:17:57] "[35m[1mPOST /seller/create_store HTTP/1.1[0m" 514 -
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 11:17:59] "[35m[1mPOST /seller/create_store HTTP/1.1[0m" 530 -
INFO:werkzeug: * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 11:22:30] "[35m[1mPOST /seller/create_store HTTP/1.1[0m" 514 -
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 11:22:51] "[35m[1mPOST /seller/create_store HTTP/1.1[0m" 530 -
INFO:werkzeug: * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 11:23:01] "[35m[1mPOST /seller/create_store HTTP/1.1[0m" 514 -
INFO:werkzeug: * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 11:24:27] "[35m[1mPOST /seller/create_store HTTP/1.1[0m" 514 -
INFO:werkzeug: * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
INFO:werkzeug: * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 11:25:26] "[35m[1mPOST /seller/create_store HTTP/1.1[0m" 514 -
INFO:werkzeug: * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 11:31:04] "POST /auth/register HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 11:31:08] "POST /auth/register HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 11:31:13] "POST /seller/create_store HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 11:32:08] "POST /seller/add_book HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 11:32:22] "POST /seller/add_stock_level HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 11:32:30] "POST /auth/register HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 11:32:30] "POST /auth/login HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 11:32:30] "POST /seller/create_store HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 11:32:30] "[35m[1mPOST /seller/add_book HTTP/1.1[0m" 516 -
ERROR:be.serve:Exception on /auth/register [POST]
Traceback (most recent call last):
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 2051, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1501, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1499, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1485, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "D:\githubcode\2\bookstore\be\view\auth.py", line 35, in register
    code, message = u.register(user_id=user_id, password=password)
  File "D:\githubcode\2\bookstore\be\model\user.py", line 73, in register
    self.conn.commit()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\session.py", line 1969, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\state_changes.py", line 103, in _go
    self._raise_for_prerequisite_state(fn.__name__, current_state)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\session.py", line 929, in _raise_for_prerequisite_state
    raise sa_exc.PendingRollbackError(
sqlalchemy.exc.PendingRollbackError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (psycopg2.errors.UniqueViolation) 错误:  重复键违反唯一约束"book_pkey"
DETAIL:  键值"(id)=(1000134)" 已经存在

[SQL: INSERT INTO book (id, title, author, publisher, original_title, translator, pub_year, pages, price, currency_unit, binding, isbn, author_intro, book_intro, content, tags, picture) VALUES (%(id)s, %(title)s, %(author)s, %(publisher)s, %(original_title)s, %(translator)s, %(pub_year)s, %(pages)s, %(price)s, %(currency_unit)s, %(binding)s, %(isbn)s, %(author_intro)s, %(book_intro)s, %(content)s, %(tags)s, %(picture)s)]
[parameters: {'id': '1000134', 'title': '三毛流浪记全集', 'author': '张乐平', 'publisher': '少年儿童出版社', 'original_title': None, 'translator': None, 'pub_year': '2001-8-1', 'pages': 261, 'price': 3000, 'currency_unit': '元', 'binding': '平装(无盘)', 'isbn': '9787532446674', 'author_intro': '张乐平，是中国当代最杰出的漫画家之一。1910年11月10日出生于浙江省海盐县海塘乡黄庵头村。父亲是位乡村教师。母亲擅长刺绣、剪纸，是张乐平最早的美术启蒙者。\n1923年，在小学老师的指导下，少年张乐平创作了平生第一张漫画《一豕负五千元》，讽刺军阀曹锟贿选，在当地名噪一时。\n1927年在家乡反 ... (1770 characters truncated) ... 情”征文特等奖。\n1991年4月4日，在《解放日报》上发表最后一幅漫画作品：“猫哺鼠”。\n1991年冬，张乐平决定将《三毛从军记》原稿捐献给上海美术馆。\n1992年1月23日，在上海华东医院因吸入性肺炎病情恶化。\n1992年9月27日下午6时，张乐平在上海华东医院与世长辞，享年82岁。\n', 'book_intro': '《三毛流浪记》所描述的三毛所生活的那个时代，已经成为了过去，但是了解过去，了解历史，却是每个人都必须完成的一份答卷。因为了解过去，了解历史可以让成长的脚步更沉着、更坚实，可以让视野更宽广，心胸更博大。在一个人成长的过程中，除了新鲜的空气，灿烂的阳光以外，更需要的冷静的思考，以及心灵的感动和震撼，而 ... (90 characters truncated) ... 和珍爱。\n《三毛流浪记》为什么经久不衰？因为它有益于人们的心灵。柯灵先生在香港版序言中写道：“《三毛流浪记》是一部很有趣味的小人书，也是一部给成人看的警世书。三毛身上，背负着沉重的历史阴影，也带了深刻的历史启示，向世界呼唤和平，呼唤公正，呼唤仁慈，呼唤同情，呼唤人道，呼唤文明！”\n所...\n', 'content': '', 'tags': ['漫画', '三毛', '张乐平', '童年', '中国漫画', '经典', '绘本', '中国'], 'picture': None}]
(Background on this error at: https://sqlalche.me/e/20/gkpj) (Background on this error at: https://sqlalche.me/e/20/7s2a)
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 11:32:31] "[35m[1mPOST /auth/register HTTP/1.1[0m" 500 -
ERROR:be.serve:Exception on /auth/register [POST]
Traceback (most recent call last):
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 2051, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1501, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1499, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1485, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "D:\githubcode\2\bookstore\be\view\auth.py", line 35, in register
    code, message = u.register(user_id=user_id, password=password)
  File "D:\githubcode\2\bookstore\be\model\user.py", line 73, in register
    self.conn.commit()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\session.py", line 1969, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\state_changes.py", line 103, in _go
    self._raise_for_prerequisite_state(fn.__name__, current_state)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\session.py", line 929, in _raise_for_prerequisite_state
    raise sa_exc.PendingRollbackError(
sqlalchemy.exc.PendingRollbackError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (psycopg2.errors.UniqueViolation) 错误:  重复键违反唯一约束"book_pkey"
DETAIL:  键值"(id)=(1000134)" 已经存在

[SQL: INSERT INTO book (id, title, author, publisher, original_title, translator, pub_year, pages, price, currency_unit, binding, isbn, author_intro, book_intro, content, tags, picture) VALUES (%(id)s, %(title)s, %(author)s, %(publisher)s, %(original_title)s, %(translator)s, %(pub_year)s, %(pages)s, %(price)s, %(currency_unit)s, %(binding)s, %(isbn)s, %(author_intro)s, %(book_intro)s, %(content)s, %(tags)s, %(picture)s)]
[parameters: {'id': '1000134', 'title': '三毛流浪记全集', 'author': '张乐平', 'publisher': '少年儿童出版社', 'original_title': None, 'translator': None, 'pub_year': '2001-8-1', 'pages': 261, 'price': 3000, 'currency_unit': '元', 'binding': '平装(无盘)', 'isbn': '9787532446674', 'author_intro': '张乐平，是中国当代最杰出的漫画家之一。1910年11月10日出生于浙江省海盐县海塘乡黄庵头村。父亲是位乡村教师。母亲擅长刺绣、剪纸，是张乐平最早的美术启蒙者。\n1923年，在小学老师的指导下，少年张乐平创作了平生第一张漫画《一豕负五千元》，讽刺军阀曹锟贿选，在当地名噪一时。\n1927年在家乡反 ... (1770 characters truncated) ... 情”征文特等奖。\n1991年4月4日，在《解放日报》上发表最后一幅漫画作品：“猫哺鼠”。\n1991年冬，张乐平决定将《三毛从军记》原稿捐献给上海美术馆。\n1992年1月23日，在上海华东医院因吸入性肺炎病情恶化。\n1992年9月27日下午6时，张乐平在上海华东医院与世长辞，享年82岁。\n', 'book_intro': '《三毛流浪记》所描述的三毛所生活的那个时代，已经成为了过去，但是了解过去，了解历史，却是每个人都必须完成的一份答卷。因为了解过去，了解历史可以让成长的脚步更沉着、更坚实，可以让视野更宽广，心胸更博大。在一个人成长的过程中，除了新鲜的空气，灿烂的阳光以外，更需要的冷静的思考，以及心灵的感动和震撼，而 ... (90 characters truncated) ... 和珍爱。\n《三毛流浪记》为什么经久不衰？因为它有益于人们的心灵。柯灵先生在香港版序言中写道：“《三毛流浪记》是一部很有趣味的小人书，也是一部给成人看的警世书。三毛身上，背负着沉重的历史阴影，也带了深刻的历史启示，向世界呼唤和平，呼唤公正，呼唤仁慈，呼唤同情，呼唤人道，呼唤文明！”\n所...\n', 'content': '', 'tags': ['漫画', '三毛', '张乐平', '童年', '中国漫画', '经典', '绘本', '中国'], 'picture': None}]
(Background on this error at: https://sqlalche.me/e/20/gkpj) (Background on this error at: https://sqlalche.me/e/20/7s2a)
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 11:32:31] "[35m[1mPOST /auth/register HTTP/1.1[0m" 500 -
ERROR:be.serve:Exception on /auth/register [POST]
Traceback (most recent call last):
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 2051, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1501, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1499, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1485, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "D:\githubcode\2\bookstore\be\view\auth.py", line 35, in register
    code, message = u.register(user_id=user_id, password=password)
  File "D:\githubcode\2\bookstore\be\model\user.py", line 73, in register
    self.conn.commit()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\session.py", line 1969, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\state_changes.py", line 103, in _go
    self._raise_for_prerequisite_state(fn.__name__, current_state)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\session.py", line 929, in _raise_for_prerequisite_state
    raise sa_exc.PendingRollbackError(
sqlalchemy.exc.PendingRollbackError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (psycopg2.errors.UniqueViolation) 错误:  重复键违反唯一约束"book_pkey"
DETAIL:  键值"(id)=(1000134)" 已经存在

[SQL: INSERT INTO book (id, title, author, publisher, original_title, translator, pub_year, pages, price, currency_unit, binding, isbn, author_intro, book_intro, content, tags, picture) VALUES (%(id)s, %(title)s, %(author)s, %(publisher)s, %(original_title)s, %(translator)s, %(pub_year)s, %(pages)s, %(price)s, %(currency_unit)s, %(binding)s, %(isbn)s, %(author_intro)s, %(book_intro)s, %(content)s, %(tags)s, %(picture)s)]
[parameters: {'id': '1000134', 'title': '三毛流浪记全集', 'author': '张乐平', 'publisher': '少年儿童出版社', 'original_title': None, 'translator': None, 'pub_year': '2001-8-1', 'pages': 261, 'price': 3000, 'currency_unit': '元', 'binding': '平装(无盘)', 'isbn': '9787532446674', 'author_intro': '张乐平，是中国当代最杰出的漫画家之一。1910年11月10日出生于浙江省海盐县海塘乡黄庵头村。父亲是位乡村教师。母亲擅长刺绣、剪纸，是张乐平最早的美术启蒙者。\n1923年，在小学老师的指导下，少年张乐平创作了平生第一张漫画《一豕负五千元》，讽刺军阀曹锟贿选，在当地名噪一时。\n1927年在家乡反 ... (1770 characters truncated) ... 情”征文特等奖。\n1991年4月4日，在《解放日报》上发表最后一幅漫画作品：“猫哺鼠”。\n1991年冬，张乐平决定将《三毛从军记》原稿捐献给上海美术馆。\n1992年1月23日，在上海华东医院因吸入性肺炎病情恶化。\n1992年9月27日下午6时，张乐平在上海华东医院与世长辞，享年82岁。\n', 'book_intro': '《三毛流浪记》所描述的三毛所生活的那个时代，已经成为了过去，但是了解过去，了解历史，却是每个人都必须完成的一份答卷。因为了解过去，了解历史可以让成长的脚步更沉着、更坚实，可以让视野更宽广，心胸更博大。在一个人成长的过程中，除了新鲜的空气，灿烂的阳光以外，更需要的冷静的思考，以及心灵的感动和震撼，而 ... (90 characters truncated) ... 和珍爱。\n《三毛流浪记》为什么经久不衰？因为它有益于人们的心灵。柯灵先生在香港版序言中写道：“《三毛流浪记》是一部很有趣味的小人书，也是一部给成人看的警世书。三毛身上，背负着沉重的历史阴影，也带了深刻的历史启示，向世界呼唤和平，呼唤公正，呼唤仁慈，呼唤同情，呼唤人道，呼唤文明！”\n所...\n', 'content': '', 'tags': ['漫画', '三毛', '张乐平', '童年', '中国漫画', '经典', '绘本', '中国'], 'picture': None}]
(Background on this error at: https://sqlalche.me/e/20/gkpj) (Background on this error at: https://sqlalche.me/e/20/7s2a)
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 11:32:31] "[35m[1mPOST /auth/register HTTP/1.1[0m" 500 -
ERROR:be.serve:Exception on /auth/register [POST]
Traceback (most recent call last):
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 2051, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1501, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1499, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1485, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "D:\githubcode\2\bookstore\be\view\auth.py", line 35, in register
    code, message = u.register(user_id=user_id, password=password)
  File "D:\githubcode\2\bookstore\be\model\user.py", line 73, in register
    self.conn.commit()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\session.py", line 1969, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\state_changes.py", line 103, in _go
    self._raise_for_prerequisite_state(fn.__name__, current_state)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\session.py", line 929, in _raise_for_prerequisite_state
    raise sa_exc.PendingRollbackError(
sqlalchemy.exc.PendingRollbackError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (psycopg2.errors.UniqueViolation) 错误:  重复键违反唯一约束"book_pkey"
DETAIL:  键值"(id)=(1000134)" 已经存在

[SQL: INSERT INTO book (id, title, author, publisher, original_title, translator, pub_year, pages, price, currency_unit, binding, isbn, author_intro, book_intro, content, tags, picture) VALUES (%(id)s, %(title)s, %(author)s, %(publisher)s, %(original_title)s, %(translator)s, %(pub_year)s, %(pages)s, %(price)s, %(currency_unit)s, %(binding)s, %(isbn)s, %(author_intro)s, %(book_intro)s, %(content)s, %(tags)s, %(picture)s)]
[parameters: {'id': '1000134', 'title': '三毛流浪记全集', 'author': '张乐平', 'publisher': '少年儿童出版社', 'original_title': None, 'translator': None, 'pub_year': '2001-8-1', 'pages': 261, 'price': 3000, 'currency_unit': '元', 'binding': '平装(无盘)', 'isbn': '9787532446674', 'author_intro': '张乐平，是中国当代最杰出的漫画家之一。1910年11月10日出生于浙江省海盐县海塘乡黄庵头村。父亲是位乡村教师。母亲擅长刺绣、剪纸，是张乐平最早的美术启蒙者。\n1923年，在小学老师的指导下，少年张乐平创作了平生第一张漫画《一豕负五千元》，讽刺军阀曹锟贿选，在当地名噪一时。\n1927年在家乡反 ... (1770 characters truncated) ... 情”征文特等奖。\n1991年4月4日，在《解放日报》上发表最后一幅漫画作品：“猫哺鼠”。\n1991年冬，张乐平决定将《三毛从军记》原稿捐献给上海美术馆。\n1992年1月23日，在上海华东医院因吸入性肺炎病情恶化。\n1992年9月27日下午6时，张乐平在上海华东医院与世长辞，享年82岁。\n', 'book_intro': '《三毛流浪记》所描述的三毛所生活的那个时代，已经成为了过去，但是了解过去，了解历史，却是每个人都必须完成的一份答卷。因为了解过去，了解历史可以让成长的脚步更沉着、更坚实，可以让视野更宽广，心胸更博大。在一个人成长的过程中，除了新鲜的空气，灿烂的阳光以外，更需要的冷静的思考，以及心灵的感动和震撼，而 ... (90 characters truncated) ... 和珍爱。\n《三毛流浪记》为什么经久不衰？因为它有益于人们的心灵。柯灵先生在香港版序言中写道：“《三毛流浪记》是一部很有趣味的小人书，也是一部给成人看的警世书。三毛身上，背负着沉重的历史阴影，也带了深刻的历史启示，向世界呼唤和平，呼唤公正，呼唤仁慈，呼唤同情，呼唤人道，呼唤文明！”\n所...\n', 'content': '', 'tags': ['漫画', '三毛', '张乐平', '童年', '中国漫画', '经典', '绘本', '中国'], 'picture': None}]
(Background on this error at: https://sqlalche.me/e/20/gkpj) (Background on this error at: https://sqlalche.me/e/20/7s2a)
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 11:32:31] "[35m[1mPOST /auth/register HTTP/1.1[0m" 500 -
ERROR:be.serve:Exception on /auth/register [POST]
Traceback (most recent call last):
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 2051, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1501, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1499, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1485, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "D:\githubcode\2\bookstore\be\view\auth.py", line 35, in register
    code, message = u.register(user_id=user_id, password=password)
  File "D:\githubcode\2\bookstore\be\model\user.py", line 73, in register
    self.conn.commit()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\session.py", line 1969, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\state_changes.py", line 103, in _go
    self._raise_for_prerequisite_state(fn.__name__, current_state)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\session.py", line 929, in _raise_for_prerequisite_state
    raise sa_exc.PendingRollbackError(
sqlalchemy.exc.PendingRollbackError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (psycopg2.errors.UniqueViolation) 错误:  重复键违反唯一约束"book_pkey"
DETAIL:  键值"(id)=(1000134)" 已经存在

[SQL: INSERT INTO book (id, title, author, publisher, original_title, translator, pub_year, pages, price, currency_unit, binding, isbn, author_intro, book_intro, content, tags, picture) VALUES (%(id)s, %(title)s, %(author)s, %(publisher)s, %(original_title)s, %(translator)s, %(pub_year)s, %(pages)s, %(price)s, %(currency_unit)s, %(binding)s, %(isbn)s, %(author_intro)s, %(book_intro)s, %(content)s, %(tags)s, %(picture)s)]
[parameters: {'id': '1000134', 'title': '三毛流浪记全集', 'author': '张乐平', 'publisher': '少年儿童出版社', 'original_title': None, 'translator': None, 'pub_year': '2001-8-1', 'pages': 261, 'price': 3000, 'currency_unit': '元', 'binding': '平装(无盘)', 'isbn': '9787532446674', 'author_intro': '张乐平，是中国当代最杰出的漫画家之一。1910年11月10日出生于浙江省海盐县海塘乡黄庵头村。父亲是位乡村教师。母亲擅长刺绣、剪纸，是张乐平最早的美术启蒙者。\n1923年，在小学老师的指导下，少年张乐平创作了平生第一张漫画《一豕负五千元》，讽刺军阀曹锟贿选，在当地名噪一时。\n1927年在家乡反 ... (1770 characters truncated) ... 情”征文特等奖。\n1991年4月4日，在《解放日报》上发表最后一幅漫画作品：“猫哺鼠”。\n1991年冬，张乐平决定将《三毛从军记》原稿捐献给上海美术馆。\n1992年1月23日，在上海华东医院因吸入性肺炎病情恶化。\n1992年9月27日下午6时，张乐平在上海华东医院与世长辞，享年82岁。\n', 'book_intro': '《三毛流浪记》所描述的三毛所生活的那个时代，已经成为了过去，但是了解过去，了解历史，却是每个人都必须完成的一份答卷。因为了解过去，了解历史可以让成长的脚步更沉着、更坚实，可以让视野更宽广，心胸更博大。在一个人成长的过程中，除了新鲜的空气，灿烂的阳光以外，更需要的冷静的思考，以及心灵的感动和震撼，而 ... (90 characters truncated) ... 和珍爱。\n《三毛流浪记》为什么经久不衰？因为它有益于人们的心灵。柯灵先生在香港版序言中写道：“《三毛流浪记》是一部很有趣味的小人书，也是一部给成人看的警世书。三毛身上，背负着沉重的历史阴影，也带了深刻的历史启示，向世界呼唤和平，呼唤公正，呼唤仁慈，呼唤同情，呼唤人道，呼唤文明！”\n所...\n', 'content': '', 'tags': ['漫画', '三毛', '张乐平', '童年', '中国漫画', '经典', '绘本', '中国'], 'picture': None}]
(Background on this error at: https://sqlalche.me/e/20/gkpj) (Background on this error at: https://sqlalche.me/e/20/7s2a)
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 11:32:31] "[35m[1mPOST /auth/register HTTP/1.1[0m" 500 -
ERROR:be.serve:Exception on /auth/register [POST]
Traceback (most recent call last):
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 2051, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1501, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1499, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1485, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "D:\githubcode\2\bookstore\be\view\auth.py", line 35, in register
    code, message = u.register(user_id=user_id, password=password)
  File "D:\githubcode\2\bookstore\be\model\user.py", line 73, in register
    self.conn.commit()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\session.py", line 1969, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\state_changes.py", line 103, in _go
    self._raise_for_prerequisite_state(fn.__name__, current_state)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\session.py", line 929, in _raise_for_prerequisite_state
    raise sa_exc.PendingRollbackError(
sqlalchemy.exc.PendingRollbackError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (psycopg2.errors.UniqueViolation) 错误:  重复键违反唯一约束"book_pkey"
DETAIL:  键值"(id)=(1000134)" 已经存在

[SQL: INSERT INTO book (id, title, author, publisher, original_title, translator, pub_year, pages, price, currency_unit, binding, isbn, author_intro, book_intro, content, tags, picture) VALUES (%(id)s, %(title)s, %(author)s, %(publisher)s, %(original_title)s, %(translator)s, %(pub_year)s, %(pages)s, %(price)s, %(currency_unit)s, %(binding)s, %(isbn)s, %(author_intro)s, %(book_intro)s, %(content)s, %(tags)s, %(picture)s)]
[parameters: {'id': '1000134', 'title': '三毛流浪记全集', 'author': '张乐平', 'publisher': '少年儿童出版社', 'original_title': None, 'translator': None, 'pub_year': '2001-8-1', 'pages': 261, 'price': 3000, 'currency_unit': '元', 'binding': '平装(无盘)', 'isbn': '9787532446674', 'author_intro': '张乐平，是中国当代最杰出的漫画家之一。1910年11月10日出生于浙江省海盐县海塘乡黄庵头村。父亲是位乡村教师。母亲擅长刺绣、剪纸，是张乐平最早的美术启蒙者。\n1923年，在小学老师的指导下，少年张乐平创作了平生第一张漫画《一豕负五千元》，讽刺军阀曹锟贿选，在当地名噪一时。\n1927年在家乡反 ... (1770 characters truncated) ... 情”征文特等奖。\n1991年4月4日，在《解放日报》上发表最后一幅漫画作品：“猫哺鼠”。\n1991年冬，张乐平决定将《三毛从军记》原稿捐献给上海美术馆。\n1992年1月23日，在上海华东医院因吸入性肺炎病情恶化。\n1992年9月27日下午6时，张乐平在上海华东医院与世长辞，享年82岁。\n', 'book_intro': '《三毛流浪记》所描述的三毛所生活的那个时代，已经成为了过去，但是了解过去，了解历史，却是每个人都必须完成的一份答卷。因为了解过去，了解历史可以让成长的脚步更沉着、更坚实，可以让视野更宽广，心胸更博大。在一个人成长的过程中，除了新鲜的空气，灿烂的阳光以外，更需要的冷静的思考，以及心灵的感动和震撼，而 ... (90 characters truncated) ... 和珍爱。\n《三毛流浪记》为什么经久不衰？因为它有益于人们的心灵。柯灵先生在香港版序言中写道：“《三毛流浪记》是一部很有趣味的小人书，也是一部给成人看的警世书。三毛身上，背负着沉重的历史阴影，也带了深刻的历史启示，向世界呼唤和平，呼唤公正，呼唤仁慈，呼唤同情，呼唤人道，呼唤文明！”\n所...\n', 'content': '', 'tags': ['漫画', '三毛', '张乐平', '童年', '中国漫画', '经典', '绘本', '中国'], 'picture': None}]
(Background on this error at: https://sqlalche.me/e/20/gkpj) (Background on this error at: https://sqlalche.me/e/20/7s2a)
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 11:32:31] "[35m[1mPOST /auth/register HTTP/1.1[0m" 500 -
ERROR:be.serve:Exception on /auth/register [POST]
Traceback (most recent call last):
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 2051, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1501, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1499, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1485, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "D:\githubcode\2\bookstore\be\view\auth.py", line 35, in register
    code, message = u.register(user_id=user_id, password=password)
  File "D:\githubcode\2\bookstore\be\model\user.py", line 73, in register
    self.conn.commit()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\session.py", line 1969, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\state_changes.py", line 103, in _go
    self._raise_for_prerequisite_state(fn.__name__, current_state)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\session.py", line 929, in _raise_for_prerequisite_state
    raise sa_exc.PendingRollbackError(
sqlalchemy.exc.PendingRollbackError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (psycopg2.errors.UniqueViolation) 错误:  重复键违反唯一约束"book_pkey"
DETAIL:  键值"(id)=(1000134)" 已经存在

[SQL: INSERT INTO book (id, title, author, publisher, original_title, translator, pub_year, pages, price, currency_unit, binding, isbn, author_intro, book_intro, content, tags, picture) VALUES (%(id)s, %(title)s, %(author)s, %(publisher)s, %(original_title)s, %(translator)s, %(pub_year)s, %(pages)s, %(price)s, %(currency_unit)s, %(binding)s, %(isbn)s, %(author_intro)s, %(book_intro)s, %(content)s, %(tags)s, %(picture)s)]
[parameters: {'id': '1000134', 'title': '三毛流浪记全集', 'author': '张乐平', 'publisher': '少年儿童出版社', 'original_title': None, 'translator': None, 'pub_year': '2001-8-1', 'pages': 261, 'price': 3000, 'currency_unit': '元', 'binding': '平装(无盘)', 'isbn': '9787532446674', 'author_intro': '张乐平，是中国当代最杰出的漫画家之一。1910年11月10日出生于浙江省海盐县海塘乡黄庵头村。父亲是位乡村教师。母亲擅长刺绣、剪纸，是张乐平最早的美术启蒙者。\n1923年，在小学老师的指导下，少年张乐平创作了平生第一张漫画《一豕负五千元》，讽刺军阀曹锟贿选，在当地名噪一时。\n1927年在家乡反 ... (1770 characters truncated) ... 情”征文特等奖。\n1991年4月4日，在《解放日报》上发表最后一幅漫画作品：“猫哺鼠”。\n1991年冬，张乐平决定将《三毛从军记》原稿捐献给上海美术馆。\n1992年1月23日，在上海华东医院因吸入性肺炎病情恶化。\n1992年9月27日下午6时，张乐平在上海华东医院与世长辞，享年82岁。\n', 'book_intro': '《三毛流浪记》所描述的三毛所生活的那个时代，已经成为了过去，但是了解过去，了解历史，却是每个人都必须完成的一份答卷。因为了解过去，了解历史可以让成长的脚步更沉着、更坚实，可以让视野更宽广，心胸更博大。在一个人成长的过程中，除了新鲜的空气，灿烂的阳光以外，更需要的冷静的思考，以及心灵的感动和震撼，而 ... (90 characters truncated) ... 和珍爱。\n《三毛流浪记》为什么经久不衰？因为它有益于人们的心灵。柯灵先生在香港版序言中写道：“《三毛流浪记》是一部很有趣味的小人书，也是一部给成人看的警世书。三毛身上，背负着沉重的历史阴影，也带了深刻的历史启示，向世界呼唤和平，呼唤公正，呼唤仁慈，呼唤同情，呼唤人道，呼唤文明！”\n所...\n', 'content': '', 'tags': ['漫画', '三毛', '张乐平', '童年', '中国漫画', '经典', '绘本', '中国'], 'picture': None}]
(Background on this error at: https://sqlalche.me/e/20/gkpj) (Background on this error at: https://sqlalche.me/e/20/7s2a)
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 11:32:31] "[35m[1mPOST /auth/register HTTP/1.1[0m" 500 -
ERROR:be.serve:Exception on /auth/register [POST]
Traceback (most recent call last):
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 2051, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1501, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1499, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1485, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "D:\githubcode\2\bookstore\be\view\auth.py", line 35, in register
    code, message = u.register(user_id=user_id, password=password)
  File "D:\githubcode\2\bookstore\be\model\user.py", line 73, in register
    self.conn.commit()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\session.py", line 1969, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\state_changes.py", line 103, in _go
    self._raise_for_prerequisite_state(fn.__name__, current_state)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\session.py", line 929, in _raise_for_prerequisite_state
    raise sa_exc.PendingRollbackError(
sqlalchemy.exc.PendingRollbackError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (psycopg2.errors.UniqueViolation) 错误:  重复键违反唯一约束"book_pkey"
DETAIL:  键值"(id)=(1000134)" 已经存在

[SQL: INSERT INTO book (id, title, author, publisher, original_title, translator, pub_year, pages, price, currency_unit, binding, isbn, author_intro, book_intro, content, tags, picture) VALUES (%(id)s, %(title)s, %(author)s, %(publisher)s, %(original_title)s, %(translator)s, %(pub_year)s, %(pages)s, %(price)s, %(currency_unit)s, %(binding)s, %(isbn)s, %(author_intro)s, %(book_intro)s, %(content)s, %(tags)s, %(picture)s)]
[parameters: {'id': '1000134', 'title': '三毛流浪记全集', 'author': '张乐平', 'publisher': '少年儿童出版社', 'original_title': None, 'translator': None, 'pub_year': '2001-8-1', 'pages': 261, 'price': 3000, 'currency_unit': '元', 'binding': '平装(无盘)', 'isbn': '9787532446674', 'author_intro': '张乐平，是中国当代最杰出的漫画家之一。1910年11月10日出生于浙江省海盐县海塘乡黄庵头村。父亲是位乡村教师。母亲擅长刺绣、剪纸，是张乐平最早的美术启蒙者。\n1923年，在小学老师的指导下，少年张乐平创作了平生第一张漫画《一豕负五千元》，讽刺军阀曹锟贿选，在当地名噪一时。\n1927年在家乡反 ... (1770 characters truncated) ... 情”征文特等奖。\n1991年4月4日，在《解放日报》上发表最后一幅漫画作品：“猫哺鼠”。\n1991年冬，张乐平决定将《三毛从军记》原稿捐献给上海美术馆。\n1992年1月23日，在上海华东医院因吸入性肺炎病情恶化。\n1992年9月27日下午6时，张乐平在上海华东医院与世长辞，享年82岁。\n', 'book_intro': '《三毛流浪记》所描述的三毛所生活的那个时代，已经成为了过去，但是了解过去，了解历史，却是每个人都必须完成的一份答卷。因为了解过去，了解历史可以让成长的脚步更沉着、更坚实，可以让视野更宽广，心胸更博大。在一个人成长的过程中，除了新鲜的空气，灿烂的阳光以外，更需要的冷静的思考，以及心灵的感动和震撼，而 ... (90 characters truncated) ... 和珍爱。\n《三毛流浪记》为什么经久不衰？因为它有益于人们的心灵。柯灵先生在香港版序言中写道：“《三毛流浪记》是一部很有趣味的小人书，也是一部给成人看的警世书。三毛身上，背负着沉重的历史阴影，也带了深刻的历史启示，向世界呼唤和平，呼唤公正，呼唤仁慈，呼唤同情，呼唤人道，呼唤文明！”\n所...\n', 'content': '', 'tags': ['漫画', '三毛', '张乐平', '童年', '中国漫画', '经典', '绘本', '中国'], 'picture': None}]
(Background on this error at: https://sqlalche.me/e/20/gkpj) (Background on this error at: https://sqlalche.me/e/20/7s2a)
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 11:32:31] "[35m[1mPOST /auth/register HTTP/1.1[0m" 500 -
ERROR:be.serve:Exception on /auth/register [POST]
Traceback (most recent call last):
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 2051, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1501, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1499, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1485, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "D:\githubcode\2\bookstore\be\view\auth.py", line 35, in register
    code, message = u.register(user_id=user_id, password=password)
  File "D:\githubcode\2\bookstore\be\model\user.py", line 73, in register
    self.conn.commit()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\session.py", line 1969, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\state_changes.py", line 103, in _go
    self._raise_for_prerequisite_state(fn.__name__, current_state)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\session.py", line 929, in _raise_for_prerequisite_state
    raise sa_exc.PendingRollbackError(
sqlalchemy.exc.PendingRollbackError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (psycopg2.errors.UniqueViolation) 错误:  重复键违反唯一约束"book_pkey"
DETAIL:  键值"(id)=(1000134)" 已经存在

[SQL: INSERT INTO book (id, title, author, publisher, original_title, translator, pub_year, pages, price, currency_unit, binding, isbn, author_intro, book_intro, content, tags, picture) VALUES (%(id)s, %(title)s, %(author)s, %(publisher)s, %(original_title)s, %(translator)s, %(pub_year)s, %(pages)s, %(price)s, %(currency_unit)s, %(binding)s, %(isbn)s, %(author_intro)s, %(book_intro)s, %(content)s, %(tags)s, %(picture)s)]
[parameters: {'id': '1000134', 'title': '三毛流浪记全集', 'author': '张乐平', 'publisher': '少年儿童出版社', 'original_title': None, 'translator': None, 'pub_year': '2001-8-1', 'pages': 261, 'price': 3000, 'currency_unit': '元', 'binding': '平装(无盘)', 'isbn': '9787532446674', 'author_intro': '张乐平，是中国当代最杰出的漫画家之一。1910年11月10日出生于浙江省海盐县海塘乡黄庵头村。父亲是位乡村教师。母亲擅长刺绣、剪纸，是张乐平最早的美术启蒙者。\n1923年，在小学老师的指导下，少年张乐平创作了平生第一张漫画《一豕负五千元》，讽刺军阀曹锟贿选，在当地名噪一时。\n1927年在家乡反 ... (1770 characters truncated) ... 情”征文特等奖。\n1991年4月4日，在《解放日报》上发表最后一幅漫画作品：“猫哺鼠”。\n1991年冬，张乐平决定将《三毛从军记》原稿捐献给上海美术馆。\n1992年1月23日，在上海华东医院因吸入性肺炎病情恶化。\n1992年9月27日下午6时，张乐平在上海华东医院与世长辞，享年82岁。\n', 'book_intro': '《三毛流浪记》所描述的三毛所生活的那个时代，已经成为了过去，但是了解过去，了解历史，却是每个人都必须完成的一份答卷。因为了解过去，了解历史可以让成长的脚步更沉着、更坚实，可以让视野更宽广，心胸更博大。在一个人成长的过程中，除了新鲜的空气，灿烂的阳光以外，更需要的冷静的思考，以及心灵的感动和震撼，而 ... (90 characters truncated) ... 和珍爱。\n《三毛流浪记》为什么经久不衰？因为它有益于人们的心灵。柯灵先生在香港版序言中写道：“《三毛流浪记》是一部很有趣味的小人书，也是一部给成人看的警世书。三毛身上，背负着沉重的历史阴影，也带了深刻的历史启示，向世界呼唤和平，呼唤公正，呼唤仁慈，呼唤同情，呼唤人道，呼唤文明！”\n所...\n', 'content': '', 'tags': ['漫画', '三毛', '张乐平', '童年', '中国漫画', '经典', '绘本', '中国'], 'picture': None}]
(Background on this error at: https://sqlalche.me/e/20/gkpj) (Background on this error at: https://sqlalche.me/e/20/7s2a)
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 11:32:31] "[35m[1mPOST /auth/register HTTP/1.1[0m" 500 -
ERROR:be.serve:Exception on /auth/register [POST]
Traceback (most recent call last):
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 2051, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1501, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1499, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1485, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "D:\githubcode\2\bookstore\be\view\auth.py", line 35, in register
    code, message = u.register(user_id=user_id, password=password)
  File "D:\githubcode\2\bookstore\be\model\user.py", line 73, in register
    self.conn.commit()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\session.py", line 1969, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\state_changes.py", line 103, in _go
    self._raise_for_prerequisite_state(fn.__name__, current_state)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\session.py", line 929, in _raise_for_prerequisite_state
    raise sa_exc.PendingRollbackError(
sqlalchemy.exc.PendingRollbackError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (psycopg2.errors.UniqueViolation) 错误:  重复键违反唯一约束"book_pkey"
DETAIL:  键值"(id)=(1000134)" 已经存在

[SQL: INSERT INTO book (id, title, author, publisher, original_title, translator, pub_year, pages, price, currency_unit, binding, isbn, author_intro, book_intro, content, tags, picture) VALUES (%(id)s, %(title)s, %(author)s, %(publisher)s, %(original_title)s, %(translator)s, %(pub_year)s, %(pages)s, %(price)s, %(currency_unit)s, %(binding)s, %(isbn)s, %(author_intro)s, %(book_intro)s, %(content)s, %(tags)s, %(picture)s)]
[parameters: {'id': '1000134', 'title': '三毛流浪记全集', 'author': '张乐平', 'publisher': '少年儿童出版社', 'original_title': None, 'translator': None, 'pub_year': '2001-8-1', 'pages': 261, 'price': 3000, 'currency_unit': '元', 'binding': '平装(无盘)', 'isbn': '9787532446674', 'author_intro': '张乐平，是中国当代最杰出的漫画家之一。1910年11月10日出生于浙江省海盐县海塘乡黄庵头村。父亲是位乡村教师。母亲擅长刺绣、剪纸，是张乐平最早的美术启蒙者。\n1923年，在小学老师的指导下，少年张乐平创作了平生第一张漫画《一豕负五千元》，讽刺军阀曹锟贿选，在当地名噪一时。\n1927年在家乡反 ... (1770 characters truncated) ... 情”征文特等奖。\n1991年4月4日，在《解放日报》上发表最后一幅漫画作品：“猫哺鼠”。\n1991年冬，张乐平决定将《三毛从军记》原稿捐献给上海美术馆。\n1992年1月23日，在上海华东医院因吸入性肺炎病情恶化。\n1992年9月27日下午6时，张乐平在上海华东医院与世长辞，享年82岁。\n', 'book_intro': '《三毛流浪记》所描述的三毛所生活的那个时代，已经成为了过去，但是了解过去，了解历史，却是每个人都必须完成的一份答卷。因为了解过去，了解历史可以让成长的脚步更沉着、更坚实，可以让视野更宽广，心胸更博大。在一个人成长的过程中，除了新鲜的空气，灿烂的阳光以外，更需要的冷静的思考，以及心灵的感动和震撼，而 ... (90 characters truncated) ... 和珍爱。\n《三毛流浪记》为什么经久不衰？因为它有益于人们的心灵。柯灵先生在香港版序言中写道：“《三毛流浪记》是一部很有趣味的小人书，也是一部给成人看的警世书。三毛身上，背负着沉重的历史阴影，也带了深刻的历史启示，向世界呼唤和平，呼唤公正，呼唤仁慈，呼唤同情，呼唤人道，呼唤文明！”\n所...\n', 'content': '', 'tags': ['漫画', '三毛', '张乐平', '童年', '中国漫画', '经典', '绘本', '中国'], 'picture': None}]
(Background on this error at: https://sqlalche.me/e/20/gkpj) (Background on this error at: https://sqlalche.me/e/20/7s2a)
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 11:32:31] "[35m[1mPOST /auth/register HTTP/1.1[0m" 500 -
ERROR:be.serve:Exception on /auth/register [POST]
Traceback (most recent call last):
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 2051, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1501, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1499, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1485, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "D:\githubcode\2\bookstore\be\view\auth.py", line 35, in register
    code, message = u.register(user_id=user_id, password=password)
  File "D:\githubcode\2\bookstore\be\model\user.py", line 73, in register
    self.conn.commit()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\session.py", line 1969, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\state_changes.py", line 103, in _go
    self._raise_for_prerequisite_state(fn.__name__, current_state)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\session.py", line 929, in _raise_for_prerequisite_state
    raise sa_exc.PendingRollbackError(
sqlalchemy.exc.PendingRollbackError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (psycopg2.errors.UniqueViolation) 错误:  重复键违反唯一约束"book_pkey"
DETAIL:  键值"(id)=(1000134)" 已经存在

[SQL: INSERT INTO book (id, title, author, publisher, original_title, translator, pub_year, pages, price, currency_unit, binding, isbn, author_intro, book_intro, content, tags, picture) VALUES (%(id)s, %(title)s, %(author)s, %(publisher)s, %(original_title)s, %(translator)s, %(pub_year)s, %(pages)s, %(price)s, %(currency_unit)s, %(binding)s, %(isbn)s, %(author_intro)s, %(book_intro)s, %(content)s, %(tags)s, %(picture)s)]
[parameters: {'id': '1000134', 'title': '三毛流浪记全集', 'author': '张乐平', 'publisher': '少年儿童出版社', 'original_title': None, 'translator': None, 'pub_year': '2001-8-1', 'pages': 261, 'price': 3000, 'currency_unit': '元', 'binding': '平装(无盘)', 'isbn': '9787532446674', 'author_intro': '张乐平，是中国当代最杰出的漫画家之一。1910年11月10日出生于浙江省海盐县海塘乡黄庵头村。父亲是位乡村教师。母亲擅长刺绣、剪纸，是张乐平最早的美术启蒙者。\n1923年，在小学老师的指导下，少年张乐平创作了平生第一张漫画《一豕负五千元》，讽刺军阀曹锟贿选，在当地名噪一时。\n1927年在家乡反 ... (1770 characters truncated) ... 情”征文特等奖。\n1991年4月4日，在《解放日报》上发表最后一幅漫画作品：“猫哺鼠”。\n1991年冬，张乐平决定将《三毛从军记》原稿捐献给上海美术馆。\n1992年1月23日，在上海华东医院因吸入性肺炎病情恶化。\n1992年9月27日下午6时，张乐平在上海华东医院与世长辞，享年82岁。\n', 'book_intro': '《三毛流浪记》所描述的三毛所生活的那个时代，已经成为了过去，但是了解过去，了解历史，却是每个人都必须完成的一份答卷。因为了解过去，了解历史可以让成长的脚步更沉着、更坚实，可以让视野更宽广，心胸更博大。在一个人成长的过程中，除了新鲜的空气，灿烂的阳光以外，更需要的冷静的思考，以及心灵的感动和震撼，而 ... (90 characters truncated) ... 和珍爱。\n《三毛流浪记》为什么经久不衰？因为它有益于人们的心灵。柯灵先生在香港版序言中写道：“《三毛流浪记》是一部很有趣味的小人书，也是一部给成人看的警世书。三毛身上，背负着沉重的历史阴影，也带了深刻的历史启示，向世界呼唤和平，呼唤公正，呼唤仁慈，呼唤同情，呼唤人道，呼唤文明！”\n所...\n', 'content': '', 'tags': ['漫画', '三毛', '张乐平', '童年', '中国漫画', '经典', '绘本', '中国'], 'picture': None}]
(Background on this error at: https://sqlalche.me/e/20/gkpj) (Background on this error at: https://sqlalche.me/e/20/7s2a)
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 11:32:31] "[35m[1mPOST /auth/register HTTP/1.1[0m" 500 -
ERROR:be.serve:Exception on /auth/register [POST]
Traceback (most recent call last):
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 2051, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1501, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1499, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1485, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "D:\githubcode\2\bookstore\be\view\auth.py", line 35, in register
    code, message = u.register(user_id=user_id, password=password)
  File "D:\githubcode\2\bookstore\be\model\user.py", line 73, in register
    self.conn.commit()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\session.py", line 1969, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\state_changes.py", line 103, in _go
    self._raise_for_prerequisite_state(fn.__name__, current_state)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\session.py", line 929, in _raise_for_prerequisite_state
    raise sa_exc.PendingRollbackError(
sqlalchemy.exc.PendingRollbackError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (psycopg2.errors.UniqueViolation) 错误:  重复键违反唯一约束"book_pkey"
DETAIL:  键值"(id)=(1000134)" 已经存在

[SQL: INSERT INTO book (id, title, author, publisher, original_title, translator, pub_year, pages, price, currency_unit, binding, isbn, author_intro, book_intro, content, tags, picture) VALUES (%(id)s, %(title)s, %(author)s, %(publisher)s, %(original_title)s, %(translator)s, %(pub_year)s, %(pages)s, %(price)s, %(currency_unit)s, %(binding)s, %(isbn)s, %(author_intro)s, %(book_intro)s, %(content)s, %(tags)s, %(picture)s)]
[parameters: {'id': '1000134', 'title': '三毛流浪记全集', 'author': '张乐平', 'publisher': '少年儿童出版社', 'original_title': None, 'translator': None, 'pub_year': '2001-8-1', 'pages': 261, 'price': 3000, 'currency_unit': '元', 'binding': '平装(无盘)', 'isbn': '9787532446674', 'author_intro': '张乐平，是中国当代最杰出的漫画家之一。1910年11月10日出生于浙江省海盐县海塘乡黄庵头村。父亲是位乡村教师。母亲擅长刺绣、剪纸，是张乐平最早的美术启蒙者。\n1923年，在小学老师的指导下，少年张乐平创作了平生第一张漫画《一豕负五千元》，讽刺军阀曹锟贿选，在当地名噪一时。\n1927年在家乡反 ... (1770 characters truncated) ... 情”征文特等奖。\n1991年4月4日，在《解放日报》上发表最后一幅漫画作品：“猫哺鼠”。\n1991年冬，张乐平决定将《三毛从军记》原稿捐献给上海美术馆。\n1992年1月23日，在上海华东医院因吸入性肺炎病情恶化。\n1992年9月27日下午6时，张乐平在上海华东医院与世长辞，享年82岁。\n', 'book_intro': '《三毛流浪记》所描述的三毛所生活的那个时代，已经成为了过去，但是了解过去，了解历史，却是每个人都必须完成的一份答卷。因为了解过去，了解历史可以让成长的脚步更沉着、更坚实，可以让视野更宽广，心胸更博大。在一个人成长的过程中，除了新鲜的空气，灿烂的阳光以外，更需要的冷静的思考，以及心灵的感动和震撼，而 ... (90 characters truncated) ... 和珍爱。\n《三毛流浪记》为什么经久不衰？因为它有益于人们的心灵。柯灵先生在香港版序言中写道：“《三毛流浪记》是一部很有趣味的小人书，也是一部给成人看的警世书。三毛身上，背负着沉重的历史阴影，也带了深刻的历史启示，向世界呼唤和平，呼唤公正，呼唤仁慈，呼唤同情，呼唤人道，呼唤文明！”\n所...\n', 'content': '', 'tags': ['漫画', '三毛', '张乐平', '童年', '中国漫画', '经典', '绘本', '中国'], 'picture': None}]
(Background on this error at: https://sqlalche.me/e/20/gkpj) (Background on this error at: https://sqlalche.me/e/20/7s2a)
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 11:32:31] "[35m[1mPOST /auth/register HTTP/1.1[0m" 500 -
ERROR:be.serve:Exception on /auth/register [POST]
Traceback (most recent call last):
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 2051, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1501, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1499, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1485, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "D:\githubcode\2\bookstore\be\view\auth.py", line 35, in register
    code, message = u.register(user_id=user_id, password=password)
  File "D:\githubcode\2\bookstore\be\model\user.py", line 73, in register
    self.conn.commit()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\session.py", line 1969, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\state_changes.py", line 103, in _go
    self._raise_for_prerequisite_state(fn.__name__, current_state)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\session.py", line 929, in _raise_for_prerequisite_state
    raise sa_exc.PendingRollbackError(
sqlalchemy.exc.PendingRollbackError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (psycopg2.errors.UniqueViolation) 错误:  重复键违反唯一约束"book_pkey"
DETAIL:  键值"(id)=(1000134)" 已经存在

[SQL: INSERT INTO book (id, title, author, publisher, original_title, translator, pub_year, pages, price, currency_unit, binding, isbn, author_intro, book_intro, content, tags, picture) VALUES (%(id)s, %(title)s, %(author)s, %(publisher)s, %(original_title)s, %(translator)s, %(pub_year)s, %(pages)s, %(price)s, %(currency_unit)s, %(binding)s, %(isbn)s, %(author_intro)s, %(book_intro)s, %(content)s, %(tags)s, %(picture)s)]
[parameters: {'id': '1000134', 'title': '三毛流浪记全集', 'author': '张乐平', 'publisher': '少年儿童出版社', 'original_title': None, 'translator': None, 'pub_year': '2001-8-1', 'pages': 261, 'price': 3000, 'currency_unit': '元', 'binding': '平装(无盘)', 'isbn': '9787532446674', 'author_intro': '张乐平，是中国当代最杰出的漫画家之一。1910年11月10日出生于浙江省海盐县海塘乡黄庵头村。父亲是位乡村教师。母亲擅长刺绣、剪纸，是张乐平最早的美术启蒙者。\n1923年，在小学老师的指导下，少年张乐平创作了平生第一张漫画《一豕负五千元》，讽刺军阀曹锟贿选，在当地名噪一时。\n1927年在家乡反 ... (1770 characters truncated) ... 情”征文特等奖。\n1991年4月4日，在《解放日报》上发表最后一幅漫画作品：“猫哺鼠”。\n1991年冬，张乐平决定将《三毛从军记》原稿捐献给上海美术馆。\n1992年1月23日，在上海华东医院因吸入性肺炎病情恶化。\n1992年9月27日下午6时，张乐平在上海华东医院与世长辞，享年82岁。\n', 'book_intro': '《三毛流浪记》所描述的三毛所生活的那个时代，已经成为了过去，但是了解过去，了解历史，却是每个人都必须完成的一份答卷。因为了解过去，了解历史可以让成长的脚步更沉着、更坚实，可以让视野更宽广，心胸更博大。在一个人成长的过程中，除了新鲜的空气，灿烂的阳光以外，更需要的冷静的思考，以及心灵的感动和震撼，而 ... (90 characters truncated) ... 和珍爱。\n《三毛流浪记》为什么经久不衰？因为它有益于人们的心灵。柯灵先生在香港版序言中写道：“《三毛流浪记》是一部很有趣味的小人书，也是一部给成人看的警世书。三毛身上，背负着沉重的历史阴影，也带了深刻的历史启示，向世界呼唤和平，呼唤公正，呼唤仁慈，呼唤同情，呼唤人道，呼唤文明！”\n所...\n', 'content': '', 'tags': ['漫画', '三毛', '张乐平', '童年', '中国漫画', '经典', '绘本', '中国'], 'picture': None}]
(Background on this error at: https://sqlalche.me/e/20/gkpj) (Background on this error at: https://sqlalche.me/e/20/7s2a)
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 11:32:31] "[35m[1mPOST /auth/register HTTP/1.1[0m" 500 -
ERROR:be.serve:Exception on /auth/register [POST]
Traceback (most recent call last):
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 2051, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1501, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1499, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1485, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "D:\githubcode\2\bookstore\be\view\auth.py", line 35, in register
    code, message = u.register(user_id=user_id, password=password)
  File "D:\githubcode\2\bookstore\be\model\user.py", line 73, in register
    self.conn.commit()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\session.py", line 1969, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\state_changes.py", line 103, in _go
    self._raise_for_prerequisite_state(fn.__name__, current_state)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\session.py", line 929, in _raise_for_prerequisite_state
    raise sa_exc.PendingRollbackError(
sqlalchemy.exc.PendingRollbackError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (psycopg2.errors.UniqueViolation) 错误:  重复键违反唯一约束"book_pkey"
DETAIL:  键值"(id)=(1000134)" 已经存在

[SQL: INSERT INTO book (id, title, author, publisher, original_title, translator, pub_year, pages, price, currency_unit, binding, isbn, author_intro, book_intro, content, tags, picture) VALUES (%(id)s, %(title)s, %(author)s, %(publisher)s, %(original_title)s, %(translator)s, %(pub_year)s, %(pages)s, %(price)s, %(currency_unit)s, %(binding)s, %(isbn)s, %(author_intro)s, %(book_intro)s, %(content)s, %(tags)s, %(picture)s)]
[parameters: {'id': '1000134', 'title': '三毛流浪记全集', 'author': '张乐平', 'publisher': '少年儿童出版社', 'original_title': None, 'translator': None, 'pub_year': '2001-8-1', 'pages': 261, 'price': 3000, 'currency_unit': '元', 'binding': '平装(无盘)', 'isbn': '9787532446674', 'author_intro': '张乐平，是中国当代最杰出的漫画家之一。1910年11月10日出生于浙江省海盐县海塘乡黄庵头村。父亲是位乡村教师。母亲擅长刺绣、剪纸，是张乐平最早的美术启蒙者。\n1923年，在小学老师的指导下，少年张乐平创作了平生第一张漫画《一豕负五千元》，讽刺军阀曹锟贿选，在当地名噪一时。\n1927年在家乡反 ... (1770 characters truncated) ... 情”征文特等奖。\n1991年4月4日，在《解放日报》上发表最后一幅漫画作品：“猫哺鼠”。\n1991年冬，张乐平决定将《三毛从军记》原稿捐献给上海美术馆。\n1992年1月23日，在上海华东医院因吸入性肺炎病情恶化。\n1992年9月27日下午6时，张乐平在上海华东医院与世长辞，享年82岁。\n', 'book_intro': '《三毛流浪记》所描述的三毛所生活的那个时代，已经成为了过去，但是了解过去，了解历史，却是每个人都必须完成的一份答卷。因为了解过去，了解历史可以让成长的脚步更沉着、更坚实，可以让视野更宽广，心胸更博大。在一个人成长的过程中，除了新鲜的空气，灿烂的阳光以外，更需要的冷静的思考，以及心灵的感动和震撼，而 ... (90 characters truncated) ... 和珍爱。\n《三毛流浪记》为什么经久不衰？因为它有益于人们的心灵。柯灵先生在香港版序言中写道：“《三毛流浪记》是一部很有趣味的小人书，也是一部给成人看的警世书。三毛身上，背负着沉重的历史阴影，也带了深刻的历史启示，向世界呼唤和平，呼唤公正，呼唤仁慈，呼唤同情，呼唤人道，呼唤文明！”\n所...\n', 'content': '', 'tags': ['漫画', '三毛', '张乐平', '童年', '中国漫画', '经典', '绘本', '中国'], 'picture': None}]
(Background on this error at: https://sqlalche.me/e/20/gkpj) (Background on this error at: https://sqlalche.me/e/20/7s2a)
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 11:32:31] "[35m[1mPOST /auth/register HTTP/1.1[0m" 500 -
ERROR:be.serve:Exception on /auth/register [POST]
Traceback (most recent call last):
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 2051, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1501, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1499, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1485, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "D:\githubcode\2\bookstore\be\view\auth.py", line 35, in register
    code, message = u.register(user_id=user_id, password=password)
  File "D:\githubcode\2\bookstore\be\model\user.py", line 73, in register
    self.conn.commit()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\session.py", line 1969, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\state_changes.py", line 103, in _go
    self._raise_for_prerequisite_state(fn.__name__, current_state)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\session.py", line 929, in _raise_for_prerequisite_state
    raise sa_exc.PendingRollbackError(
sqlalchemy.exc.PendingRollbackError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (psycopg2.errors.UniqueViolation) 错误:  重复键违反唯一约束"book_pkey"
DETAIL:  键值"(id)=(1000134)" 已经存在

[SQL: INSERT INTO book (id, title, author, publisher, original_title, translator, pub_year, pages, price, currency_unit, binding, isbn, author_intro, book_intro, content, tags, picture) VALUES (%(id)s, %(title)s, %(author)s, %(publisher)s, %(original_title)s, %(translator)s, %(pub_year)s, %(pages)s, %(price)s, %(currency_unit)s, %(binding)s, %(isbn)s, %(author_intro)s, %(book_intro)s, %(content)s, %(tags)s, %(picture)s)]
[parameters: {'id': '1000134', 'title': '三毛流浪记全集', 'author': '张乐平', 'publisher': '少年儿童出版社', 'original_title': None, 'translator': None, 'pub_year': '2001-8-1', 'pages': 261, 'price': 3000, 'currency_unit': '元', 'binding': '平装(无盘)', 'isbn': '9787532446674', 'author_intro': '张乐平，是中国当代最杰出的漫画家之一。1910年11月10日出生于浙江省海盐县海塘乡黄庵头村。父亲是位乡村教师。母亲擅长刺绣、剪纸，是张乐平最早的美术启蒙者。\n1923年，在小学老师的指导下，少年张乐平创作了平生第一张漫画《一豕负五千元》，讽刺军阀曹锟贿选，在当地名噪一时。\n1927年在家乡反 ... (1770 characters truncated) ... 情”征文特等奖。\n1991年4月4日，在《解放日报》上发表最后一幅漫画作品：“猫哺鼠”。\n1991年冬，张乐平决定将《三毛从军记》原稿捐献给上海美术馆。\n1992年1月23日，在上海华东医院因吸入性肺炎病情恶化。\n1992年9月27日下午6时，张乐平在上海华东医院与世长辞，享年82岁。\n', 'book_intro': '《三毛流浪记》所描述的三毛所生活的那个时代，已经成为了过去，但是了解过去，了解历史，却是每个人都必须完成的一份答卷。因为了解过去，了解历史可以让成长的脚步更沉着、更坚实，可以让视野更宽广，心胸更博大。在一个人成长的过程中，除了新鲜的空气，灿烂的阳光以外，更需要的冷静的思考，以及心灵的感动和震撼，而 ... (90 characters truncated) ... 和珍爱。\n《三毛流浪记》为什么经久不衰？因为它有益于人们的心灵。柯灵先生在香港版序言中写道：“《三毛流浪记》是一部很有趣味的小人书，也是一部给成人看的警世书。三毛身上，背负着沉重的历史阴影，也带了深刻的历史启示，向世界呼唤和平，呼唤公正，呼唤仁慈，呼唤同情，呼唤人道，呼唤文明！”\n所...\n', 'content': '', 'tags': ['漫画', '三毛', '张乐平', '童年', '中国漫画', '经典', '绘本', '中国'], 'picture': None}]
(Background on this error at: https://sqlalche.me/e/20/gkpj) (Background on this error at: https://sqlalche.me/e/20/7s2a)
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 11:32:31] "[35m[1mPOST /auth/register HTTP/1.1[0m" 500 -
ERROR:be.serve:Exception on /auth/register [POST]
Traceback (most recent call last):
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 2051, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1501, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1499, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1485, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "D:\githubcode\2\bookstore\be\view\auth.py", line 35, in register
    code, message = u.register(user_id=user_id, password=password)
  File "D:\githubcode\2\bookstore\be\model\user.py", line 73, in register
    self.conn.commit()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\session.py", line 1969, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\state_changes.py", line 103, in _go
    self._raise_for_prerequisite_state(fn.__name__, current_state)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\session.py", line 929, in _raise_for_prerequisite_state
    raise sa_exc.PendingRollbackError(
sqlalchemy.exc.PendingRollbackError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (psycopg2.errors.UniqueViolation) 错误:  重复键违反唯一约束"book_pkey"
DETAIL:  键值"(id)=(1000134)" 已经存在

[SQL: INSERT INTO book (id, title, author, publisher, original_title, translator, pub_year, pages, price, currency_unit, binding, isbn, author_intro, book_intro, content, tags, picture) VALUES (%(id)s, %(title)s, %(author)s, %(publisher)s, %(original_title)s, %(translator)s, %(pub_year)s, %(pages)s, %(price)s, %(currency_unit)s, %(binding)s, %(isbn)s, %(author_intro)s, %(book_intro)s, %(content)s, %(tags)s, %(picture)s)]
[parameters: {'id': '1000134', 'title': '三毛流浪记全集', 'author': '张乐平', 'publisher': '少年儿童出版社', 'original_title': None, 'translator': None, 'pub_year': '2001-8-1', 'pages': 261, 'price': 3000, 'currency_unit': '元', 'binding': '平装(无盘)', 'isbn': '9787532446674', 'author_intro': '张乐平，是中国当代最杰出的漫画家之一。1910年11月10日出生于浙江省海盐县海塘乡黄庵头村。父亲是位乡村教师。母亲擅长刺绣、剪纸，是张乐平最早的美术启蒙者。\n1923年，在小学老师的指导下，少年张乐平创作了平生第一张漫画《一豕负五千元》，讽刺军阀曹锟贿选，在当地名噪一时。\n1927年在家乡反 ... (1770 characters truncated) ... 情”征文特等奖。\n1991年4月4日，在《解放日报》上发表最后一幅漫画作品：“猫哺鼠”。\n1991年冬，张乐平决定将《三毛从军记》原稿捐献给上海美术馆。\n1992年1月23日，在上海华东医院因吸入性肺炎病情恶化。\n1992年9月27日下午6时，张乐平在上海华东医院与世长辞，享年82岁。\n', 'book_intro': '《三毛流浪记》所描述的三毛所生活的那个时代，已经成为了过去，但是了解过去，了解历史，却是每个人都必须完成的一份答卷。因为了解过去，了解历史可以让成长的脚步更沉着、更坚实，可以让视野更宽广，心胸更博大。在一个人成长的过程中，除了新鲜的空气，灿烂的阳光以外，更需要的冷静的思考，以及心灵的感动和震撼，而 ... (90 characters truncated) ... 和珍爱。\n《三毛流浪记》为什么经久不衰？因为它有益于人们的心灵。柯灵先生在香港版序言中写道：“《三毛流浪记》是一部很有趣味的小人书，也是一部给成人看的警世书。三毛身上，背负着沉重的历史阴影，也带了深刻的历史启示，向世界呼唤和平，呼唤公正，呼唤仁慈，呼唤同情，呼唤人道，呼唤文明！”\n所...\n', 'content': '', 'tags': ['漫画', '三毛', '张乐平', '童年', '中国漫画', '经典', '绘本', '中国'], 'picture': None}]
(Background on this error at: https://sqlalche.me/e/20/gkpj) (Background on this error at: https://sqlalche.me/e/20/7s2a)
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 11:32:31] "[35m[1mPOST /auth/register HTTP/1.1[0m" 500 -
ERROR:be.serve:Exception on /auth/register [POST]
Traceback (most recent call last):
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 2051, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1501, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1499, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1485, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "D:\githubcode\2\bookstore\be\view\auth.py", line 35, in register
    code, message = u.register(user_id=user_id, password=password)
  File "D:\githubcode\2\bookstore\be\model\user.py", line 73, in register
    self.conn.commit()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\session.py", line 1969, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\state_changes.py", line 103, in _go
    self._raise_for_prerequisite_state(fn.__name__, current_state)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\session.py", line 929, in _raise_for_prerequisite_state
    raise sa_exc.PendingRollbackError(
sqlalchemy.exc.PendingRollbackError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (psycopg2.errors.UniqueViolation) 错误:  重复键违反唯一约束"book_pkey"
DETAIL:  键值"(id)=(1000134)" 已经存在

[SQL: INSERT INTO book (id, title, author, publisher, original_title, translator, pub_year, pages, price, currency_unit, binding, isbn, author_intro, book_intro, content, tags, picture) VALUES (%(id)s, %(title)s, %(author)s, %(publisher)s, %(original_title)s, %(translator)s, %(pub_year)s, %(pages)s, %(price)s, %(currency_unit)s, %(binding)s, %(isbn)s, %(author_intro)s, %(book_intro)s, %(content)s, %(tags)s, %(picture)s)]
[parameters: {'id': '1000134', 'title': '三毛流浪记全集', 'author': '张乐平', 'publisher': '少年儿童出版社', 'original_title': None, 'translator': None, 'pub_year': '2001-8-1', 'pages': 261, 'price': 3000, 'currency_unit': '元', 'binding': '平装(无盘)', 'isbn': '9787532446674', 'author_intro': '张乐平，是中国当代最杰出的漫画家之一。1910年11月10日出生于浙江省海盐县海塘乡黄庵头村。父亲是位乡村教师。母亲擅长刺绣、剪纸，是张乐平最早的美术启蒙者。\n1923年，在小学老师的指导下，少年张乐平创作了平生第一张漫画《一豕负五千元》，讽刺军阀曹锟贿选，在当地名噪一时。\n1927年在家乡反 ... (1770 characters truncated) ... 情”征文特等奖。\n1991年4月4日，在《解放日报》上发表最后一幅漫画作品：“猫哺鼠”。\n1991年冬，张乐平决定将《三毛从军记》原稿捐献给上海美术馆。\n1992年1月23日，在上海华东医院因吸入性肺炎病情恶化。\n1992年9月27日下午6时，张乐平在上海华东医院与世长辞，享年82岁。\n', 'book_intro': '《三毛流浪记》所描述的三毛所生活的那个时代，已经成为了过去，但是了解过去，了解历史，却是每个人都必须完成的一份答卷。因为了解过去，了解历史可以让成长的脚步更沉着、更坚实，可以让视野更宽广，心胸更博大。在一个人成长的过程中，除了新鲜的空气，灿烂的阳光以外，更需要的冷静的思考，以及心灵的感动和震撼，而 ... (90 characters truncated) ... 和珍爱。\n《三毛流浪记》为什么经久不衰？因为它有益于人们的心灵。柯灵先生在香港版序言中写道：“《三毛流浪记》是一部很有趣味的小人书，也是一部给成人看的警世书。三毛身上，背负着沉重的历史阴影，也带了深刻的历史启示，向世界呼唤和平，呼唤公正，呼唤仁慈，呼唤同情，呼唤人道，呼唤文明！”\n所...\n', 'content': '', 'tags': ['漫画', '三毛', '张乐平', '童年', '中国漫画', '经典', '绘本', '中国'], 'picture': None}]
(Background on this error at: https://sqlalche.me/e/20/gkpj) (Background on this error at: https://sqlalche.me/e/20/7s2a)
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 11:32:31] "[35m[1mPOST /auth/register HTTP/1.1[0m" 500 -
ERROR:be.serve:Exception on /auth/register [POST]
Traceback (most recent call last):
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 2051, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1501, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1499, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1485, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "D:\githubcode\2\bookstore\be\view\auth.py", line 35, in register
    code, message = u.register(user_id=user_id, password=password)
  File "D:\githubcode\2\bookstore\be\model\user.py", line 73, in register
    self.conn.commit()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\session.py", line 1969, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\state_changes.py", line 103, in _go
    self._raise_for_prerequisite_state(fn.__name__, current_state)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\session.py", line 929, in _raise_for_prerequisite_state
    raise sa_exc.PendingRollbackError(
sqlalchemy.exc.PendingRollbackError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (psycopg2.errors.UniqueViolation) 错误:  重复键违反唯一约束"book_pkey"
DETAIL:  键值"(id)=(1000134)" 已经存在

[SQL: INSERT INTO book (id, title, author, publisher, original_title, translator, pub_year, pages, price, currency_unit, binding, isbn, author_intro, book_intro, content, tags, picture) VALUES (%(id)s, %(title)s, %(author)s, %(publisher)s, %(original_title)s, %(translator)s, %(pub_year)s, %(pages)s, %(price)s, %(currency_unit)s, %(binding)s, %(isbn)s, %(author_intro)s, %(book_intro)s, %(content)s, %(tags)s, %(picture)s)]
[parameters: {'id': '1000134', 'title': '三毛流浪记全集', 'author': '张乐平', 'publisher': '少年儿童出版社', 'original_title': None, 'translator': None, 'pub_year': '2001-8-1', 'pages': 261, 'price': 3000, 'currency_unit': '元', 'binding': '平装(无盘)', 'isbn': '9787532446674', 'author_intro': '张乐平，是中国当代最杰出的漫画家之一。1910年11月10日出生于浙江省海盐县海塘乡黄庵头村。父亲是位乡村教师。母亲擅长刺绣、剪纸，是张乐平最早的美术启蒙者。\n1923年，在小学老师的指导下，少年张乐平创作了平生第一张漫画《一豕负五千元》，讽刺军阀曹锟贿选，在当地名噪一时。\n1927年在家乡反 ... (1770 characters truncated) ... 情”征文特等奖。\n1991年4月4日，在《解放日报》上发表最后一幅漫画作品：“猫哺鼠”。\n1991年冬，张乐平决定将《三毛从军记》原稿捐献给上海美术馆。\n1992年1月23日，在上海华东医院因吸入性肺炎病情恶化。\n1992年9月27日下午6时，张乐平在上海华东医院与世长辞，享年82岁。\n', 'book_intro': '《三毛流浪记》所描述的三毛所生活的那个时代，已经成为了过去，但是了解过去，了解历史，却是每个人都必须完成的一份答卷。因为了解过去，了解历史可以让成长的脚步更沉着、更坚实，可以让视野更宽广，心胸更博大。在一个人成长的过程中，除了新鲜的空气，灿烂的阳光以外，更需要的冷静的思考，以及心灵的感动和震撼，而 ... (90 characters truncated) ... 和珍爱。\n《三毛流浪记》为什么经久不衰？因为它有益于人们的心灵。柯灵先生在香港版序言中写道：“《三毛流浪记》是一部很有趣味的小人书，也是一部给成人看的警世书。三毛身上，背负着沉重的历史阴影，也带了深刻的历史启示，向世界呼唤和平，呼唤公正，呼唤仁慈，呼唤同情，呼唤人道，呼唤文明！”\n所...\n', 'content': '', 'tags': ['漫画', '三毛', '张乐平', '童年', '中国漫画', '经典', '绘本', '中国'], 'picture': None}]
(Background on this error at: https://sqlalche.me/e/20/gkpj) (Background on this error at: https://sqlalche.me/e/20/7s2a)
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 11:32:31] "[35m[1mPOST /auth/register HTTP/1.1[0m" 500 -
ERROR:be.serve:Exception on /auth/register [POST]
Traceback (most recent call last):
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 2051, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1501, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1499, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1485, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "D:\githubcode\2\bookstore\be\view\auth.py", line 35, in register
    code, message = u.register(user_id=user_id, password=password)
  File "D:\githubcode\2\bookstore\be\model\user.py", line 73, in register
    self.conn.commit()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\session.py", line 1969, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\state_changes.py", line 103, in _go
    self._raise_for_prerequisite_state(fn.__name__, current_state)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\session.py", line 929, in _raise_for_prerequisite_state
    raise sa_exc.PendingRollbackError(
sqlalchemy.exc.PendingRollbackError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (psycopg2.errors.UniqueViolation) 错误:  重复键违反唯一约束"book_pkey"
DETAIL:  键值"(id)=(1000134)" 已经存在

[SQL: INSERT INTO book (id, title, author, publisher, original_title, translator, pub_year, pages, price, currency_unit, binding, isbn, author_intro, book_intro, content, tags, picture) VALUES (%(id)s, %(title)s, %(author)s, %(publisher)s, %(original_title)s, %(translator)s, %(pub_year)s, %(pages)s, %(price)s, %(currency_unit)s, %(binding)s, %(isbn)s, %(author_intro)s, %(book_intro)s, %(content)s, %(tags)s, %(picture)s)]
[parameters: {'id': '1000134', 'title': '三毛流浪记全集', 'author': '张乐平', 'publisher': '少年儿童出版社', 'original_title': None, 'translator': None, 'pub_year': '2001-8-1', 'pages': 261, 'price': 3000, 'currency_unit': '元', 'binding': '平装(无盘)', 'isbn': '9787532446674', 'author_intro': '张乐平，是中国当代最杰出的漫画家之一。1910年11月10日出生于浙江省海盐县海塘乡黄庵头村。父亲是位乡村教师。母亲擅长刺绣、剪纸，是张乐平最早的美术启蒙者。\n1923年，在小学老师的指导下，少年张乐平创作了平生第一张漫画《一豕负五千元》，讽刺军阀曹锟贿选，在当地名噪一时。\n1927年在家乡反 ... (1770 characters truncated) ... 情”征文特等奖。\n1991年4月4日，在《解放日报》上发表最后一幅漫画作品：“猫哺鼠”。\n1991年冬，张乐平决定将《三毛从军记》原稿捐献给上海美术馆。\n1992年1月23日，在上海华东医院因吸入性肺炎病情恶化。\n1992年9月27日下午6时，张乐平在上海华东医院与世长辞，享年82岁。\n', 'book_intro': '《三毛流浪记》所描述的三毛所生活的那个时代，已经成为了过去，但是了解过去，了解历史，却是每个人都必须完成的一份答卷。因为了解过去，了解历史可以让成长的脚步更沉着、更坚实，可以让视野更宽广，心胸更博大。在一个人成长的过程中，除了新鲜的空气，灿烂的阳光以外，更需要的冷静的思考，以及心灵的感动和震撼，而 ... (90 characters truncated) ... 和珍爱。\n《三毛流浪记》为什么经久不衰？因为它有益于人们的心灵。柯灵先生在香港版序言中写道：“《三毛流浪记》是一部很有趣味的小人书，也是一部给成人看的警世书。三毛身上，背负着沉重的历史阴影，也带了深刻的历史启示，向世界呼唤和平，呼唤公正，呼唤仁慈，呼唤同情，呼唤人道，呼唤文明！”\n所...\n', 'content': '', 'tags': ['漫画', '三毛', '张乐平', '童年', '中国漫画', '经典', '绘本', '中国'], 'picture': None}]
(Background on this error at: https://sqlalche.me/e/20/gkpj) (Background on this error at: https://sqlalche.me/e/20/7s2a)
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 11:32:31] "[35m[1mPOST /auth/register HTTP/1.1[0m" 500 -
ERROR:be.serve:Exception on /auth/register [POST]
Traceback (most recent call last):
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 2051, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1501, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1499, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1485, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "D:\githubcode\2\bookstore\be\view\auth.py", line 35, in register
    code, message = u.register(user_id=user_id, password=password)
  File "D:\githubcode\2\bookstore\be\model\user.py", line 73, in register
    self.conn.commit()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\session.py", line 1969, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\state_changes.py", line 103, in _go
    self._raise_for_prerequisite_state(fn.__name__, current_state)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\session.py", line 929, in _raise_for_prerequisite_state
    raise sa_exc.PendingRollbackError(
sqlalchemy.exc.PendingRollbackError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (psycopg2.errors.UniqueViolation) 错误:  重复键违反唯一约束"book_pkey"
DETAIL:  键值"(id)=(1000134)" 已经存在

[SQL: INSERT INTO book (id, title, author, publisher, original_title, translator, pub_year, pages, price, currency_unit, binding, isbn, author_intro, book_intro, content, tags, picture) VALUES (%(id)s, %(title)s, %(author)s, %(publisher)s, %(original_title)s, %(translator)s, %(pub_year)s, %(pages)s, %(price)s, %(currency_unit)s, %(binding)s, %(isbn)s, %(author_intro)s, %(book_intro)s, %(content)s, %(tags)s, %(picture)s)]
[parameters: {'id': '1000134', 'title': '三毛流浪记全集', 'author': '张乐平', 'publisher': '少年儿童出版社', 'original_title': None, 'translator': None, 'pub_year': '2001-8-1', 'pages': 261, 'price': 3000, 'currency_unit': '元', 'binding': '平装(无盘)', 'isbn': '9787532446674', 'author_intro': '张乐平，是中国当代最杰出的漫画家之一。1910年11月10日出生于浙江省海盐县海塘乡黄庵头村。父亲是位乡村教师。母亲擅长刺绣、剪纸，是张乐平最早的美术启蒙者。\n1923年，在小学老师的指导下，少年张乐平创作了平生第一张漫画《一豕负五千元》，讽刺军阀曹锟贿选，在当地名噪一时。\n1927年在家乡反 ... (1770 characters truncated) ... 情”征文特等奖。\n1991年4月4日，在《解放日报》上发表最后一幅漫画作品：“猫哺鼠”。\n1991年冬，张乐平决定将《三毛从军记》原稿捐献给上海美术馆。\n1992年1月23日，在上海华东医院因吸入性肺炎病情恶化。\n1992年9月27日下午6时，张乐平在上海华东医院与世长辞，享年82岁。\n', 'book_intro': '《三毛流浪记》所描述的三毛所生活的那个时代，已经成为了过去，但是了解过去，了解历史，却是每个人都必须完成的一份答卷。因为了解过去，了解历史可以让成长的脚步更沉着、更坚实，可以让视野更宽广，心胸更博大。在一个人成长的过程中，除了新鲜的空气，灿烂的阳光以外，更需要的冷静的思考，以及心灵的感动和震撼，而 ... (90 characters truncated) ... 和珍爱。\n《三毛流浪记》为什么经久不衰？因为它有益于人们的心灵。柯灵先生在香港版序言中写道：“《三毛流浪记》是一部很有趣味的小人书，也是一部给成人看的警世书。三毛身上，背负着沉重的历史阴影，也带了深刻的历史启示，向世界呼唤和平，呼唤公正，呼唤仁慈，呼唤同情，呼唤人道，呼唤文明！”\n所...\n', 'content': '', 'tags': ['漫画', '三毛', '张乐平', '童年', '中国漫画', '经典', '绘本', '中国'], 'picture': None}]
(Background on this error at: https://sqlalche.me/e/20/gkpj) (Background on this error at: https://sqlalche.me/e/20/7s2a)
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 11:32:31] "[35m[1mPOST /auth/register HTTP/1.1[0m" 500 -
ERROR:be.serve:Exception on /auth/register [POST]
Traceback (most recent call last):
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 2051, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1501, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1499, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1485, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "D:\githubcode\2\bookstore\be\view\auth.py", line 35, in register
    code, message = u.register(user_id=user_id, password=password)
  File "D:\githubcode\2\bookstore\be\model\user.py", line 73, in register
    self.conn.commit()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\session.py", line 1969, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\state_changes.py", line 103, in _go
    self._raise_for_prerequisite_state(fn.__name__, current_state)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\session.py", line 929, in _raise_for_prerequisite_state
    raise sa_exc.PendingRollbackError(
sqlalchemy.exc.PendingRollbackError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (psycopg2.errors.UniqueViolation) 错误:  重复键违反唯一约束"book_pkey"
DETAIL:  键值"(id)=(1000134)" 已经存在

[SQL: INSERT INTO book (id, title, author, publisher, original_title, translator, pub_year, pages, price, currency_unit, binding, isbn, author_intro, book_intro, content, tags, picture) VALUES (%(id)s, %(title)s, %(author)s, %(publisher)s, %(original_title)s, %(translator)s, %(pub_year)s, %(pages)s, %(price)s, %(currency_unit)s, %(binding)s, %(isbn)s, %(author_intro)s, %(book_intro)s, %(content)s, %(tags)s, %(picture)s)]
[parameters: {'id': '1000134', 'title': '三毛流浪记全集', 'author': '张乐平', 'publisher': '少年儿童出版社', 'original_title': None, 'translator': None, 'pub_year': '2001-8-1', 'pages': 261, 'price': 3000, 'currency_unit': '元', 'binding': '平装(无盘)', 'isbn': '9787532446674', 'author_intro': '张乐平，是中国当代最杰出的漫画家之一。1910年11月10日出生于浙江省海盐县海塘乡黄庵头村。父亲是位乡村教师。母亲擅长刺绣、剪纸，是张乐平最早的美术启蒙者。\n1923年，在小学老师的指导下，少年张乐平创作了平生第一张漫画《一豕负五千元》，讽刺军阀曹锟贿选，在当地名噪一时。\n1927年在家乡反 ... (1770 characters truncated) ... 情”征文特等奖。\n1991年4月4日，在《解放日报》上发表最后一幅漫画作品：“猫哺鼠”。\n1991年冬，张乐平决定将《三毛从军记》原稿捐献给上海美术馆。\n1992年1月23日，在上海华东医院因吸入性肺炎病情恶化。\n1992年9月27日下午6时，张乐平在上海华东医院与世长辞，享年82岁。\n', 'book_intro': '《三毛流浪记》所描述的三毛所生活的那个时代，已经成为了过去，但是了解过去，了解历史，却是每个人都必须完成的一份答卷。因为了解过去，了解历史可以让成长的脚步更沉着、更坚实，可以让视野更宽广，心胸更博大。在一个人成长的过程中，除了新鲜的空气，灿烂的阳光以外，更需要的冷静的思考，以及心灵的感动和震撼，而 ... (90 characters truncated) ... 和珍爱。\n《三毛流浪记》为什么经久不衰？因为它有益于人们的心灵。柯灵先生在香港版序言中写道：“《三毛流浪记》是一部很有趣味的小人书，也是一部给成人看的警世书。三毛身上，背负着沉重的历史阴影，也带了深刻的历史启示，向世界呼唤和平，呼唤公正，呼唤仁慈，呼唤同情，呼唤人道，呼唤文明！”\n所...\n', 'content': '', 'tags': ['漫画', '三毛', '张乐平', '童年', '中国漫画', '经典', '绘本', '中国'], 'picture': None}]
(Background on this error at: https://sqlalche.me/e/20/gkpj) (Background on this error at: https://sqlalche.me/e/20/7s2a)
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 11:32:31] "[35m[1mPOST /auth/register HTTP/1.1[0m" 500 -
ERROR:be.serve:Exception on /auth/register [POST]
Traceback (most recent call last):
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 2051, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1501, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1499, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1485, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "D:\githubcode\2\bookstore\be\view\auth.py", line 35, in register
    code, message = u.register(user_id=user_id, password=password)
  File "D:\githubcode\2\bookstore\be\model\user.py", line 73, in register
    self.conn.commit()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\session.py", line 1969, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\state_changes.py", line 103, in _go
    self._raise_for_prerequisite_state(fn.__name__, current_state)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\session.py", line 929, in _raise_for_prerequisite_state
    raise sa_exc.PendingRollbackError(
sqlalchemy.exc.PendingRollbackError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (psycopg2.errors.UniqueViolation) 错误:  重复键违反唯一约束"book_pkey"
DETAIL:  键值"(id)=(1000134)" 已经存在

[SQL: INSERT INTO book (id, title, author, publisher, original_title, translator, pub_year, pages, price, currency_unit, binding, isbn, author_intro, book_intro, content, tags, picture) VALUES (%(id)s, %(title)s, %(author)s, %(publisher)s, %(original_title)s, %(translator)s, %(pub_year)s, %(pages)s, %(price)s, %(currency_unit)s, %(binding)s, %(isbn)s, %(author_intro)s, %(book_intro)s, %(content)s, %(tags)s, %(picture)s)]
[parameters: {'id': '1000134', 'title': '三毛流浪记全集', 'author': '张乐平', 'publisher': '少年儿童出版社', 'original_title': None, 'translator': None, 'pub_year': '2001-8-1', 'pages': 261, 'price': 3000, 'currency_unit': '元', 'binding': '平装(无盘)', 'isbn': '9787532446674', 'author_intro': '张乐平，是中国当代最杰出的漫画家之一。1910年11月10日出生于浙江省海盐县海塘乡黄庵头村。父亲是位乡村教师。母亲擅长刺绣、剪纸，是张乐平最早的美术启蒙者。\n1923年，在小学老师的指导下，少年张乐平创作了平生第一张漫画《一豕负五千元》，讽刺军阀曹锟贿选，在当地名噪一时。\n1927年在家乡反 ... (1770 characters truncated) ... 情”征文特等奖。\n1991年4月4日，在《解放日报》上发表最后一幅漫画作品：“猫哺鼠”。\n1991年冬，张乐平决定将《三毛从军记》原稿捐献给上海美术馆。\n1992年1月23日，在上海华东医院因吸入性肺炎病情恶化。\n1992年9月27日下午6时，张乐平在上海华东医院与世长辞，享年82岁。\n', 'book_intro': '《三毛流浪记》所描述的三毛所生活的那个时代，已经成为了过去，但是了解过去，了解历史，却是每个人都必须完成的一份答卷。因为了解过去，了解历史可以让成长的脚步更沉着、更坚实，可以让视野更宽广，心胸更博大。在一个人成长的过程中，除了新鲜的空气，灿烂的阳光以外，更需要的冷静的思考，以及心灵的感动和震撼，而 ... (90 characters truncated) ... 和珍爱。\n《三毛流浪记》为什么经久不衰？因为它有益于人们的心灵。柯灵先生在香港版序言中写道：“《三毛流浪记》是一部很有趣味的小人书，也是一部给成人看的警世书。三毛身上，背负着沉重的历史阴影，也带了深刻的历史启示，向世界呼唤和平，呼唤公正，呼唤仁慈，呼唤同情，呼唤人道，呼唤文明！”\n所...\n', 'content': '', 'tags': ['漫画', '三毛', '张乐平', '童年', '中国漫画', '经典', '绘本', '中国'], 'picture': None}]
(Background on this error at: https://sqlalche.me/e/20/gkpj) (Background on this error at: https://sqlalche.me/e/20/7s2a)
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 11:32:31] "[35m[1mPOST /auth/register HTTP/1.1[0m" 500 -
ERROR:be.serve:Exception on /auth/register [POST]
Traceback (most recent call last):
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 2051, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1501, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1499, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1485, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "D:\githubcode\2\bookstore\be\view\auth.py", line 35, in register
    code, message = u.register(user_id=user_id, password=password)
  File "D:\githubcode\2\bookstore\be\model\user.py", line 73, in register
    self.conn.commit()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\session.py", line 1969, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\state_changes.py", line 103, in _go
    self._raise_for_prerequisite_state(fn.__name__, current_state)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\session.py", line 929, in _raise_for_prerequisite_state
    raise sa_exc.PendingRollbackError(
sqlalchemy.exc.PendingRollbackError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (psycopg2.errors.UniqueViolation) 错误:  重复键违反唯一约束"book_pkey"
DETAIL:  键值"(id)=(1000134)" 已经存在

[SQL: INSERT INTO book (id, title, author, publisher, original_title, translator, pub_year, pages, price, currency_unit, binding, isbn, author_intro, book_intro, content, tags, picture) VALUES (%(id)s, %(title)s, %(author)s, %(publisher)s, %(original_title)s, %(translator)s, %(pub_year)s, %(pages)s, %(price)s, %(currency_unit)s, %(binding)s, %(isbn)s, %(author_intro)s, %(book_intro)s, %(content)s, %(tags)s, %(picture)s)]
[parameters: {'id': '1000134', 'title': '三毛流浪记全集', 'author': '张乐平', 'publisher': '少年儿童出版社', 'original_title': None, 'translator': None, 'pub_year': '2001-8-1', 'pages': 261, 'price': 3000, 'currency_unit': '元', 'binding': '平装(无盘)', 'isbn': '9787532446674', 'author_intro': '张乐平，是中国当代最杰出的漫画家之一。1910年11月10日出生于浙江省海盐县海塘乡黄庵头村。父亲是位乡村教师。母亲擅长刺绣、剪纸，是张乐平最早的美术启蒙者。\n1923年，在小学老师的指导下，少年张乐平创作了平生第一张漫画《一豕负五千元》，讽刺军阀曹锟贿选，在当地名噪一时。\n1927年在家乡反 ... (1770 characters truncated) ... 情”征文特等奖。\n1991年4月4日，在《解放日报》上发表最后一幅漫画作品：“猫哺鼠”。\n1991年冬，张乐平决定将《三毛从军记》原稿捐献给上海美术馆。\n1992年1月23日，在上海华东医院因吸入性肺炎病情恶化。\n1992年9月27日下午6时，张乐平在上海华东医院与世长辞，享年82岁。\n', 'book_intro': '《三毛流浪记》所描述的三毛所生活的那个时代，已经成为了过去，但是了解过去，了解历史，却是每个人都必须完成的一份答卷。因为了解过去，了解历史可以让成长的脚步更沉着、更坚实，可以让视野更宽广，心胸更博大。在一个人成长的过程中，除了新鲜的空气，灿烂的阳光以外，更需要的冷静的思考，以及心灵的感动和震撼，而 ... (90 characters truncated) ... 和珍爱。\n《三毛流浪记》为什么经久不衰？因为它有益于人们的心灵。柯灵先生在香港版序言中写道：“《三毛流浪记》是一部很有趣味的小人书，也是一部给成人看的警世书。三毛身上，背负着沉重的历史阴影，也带了深刻的历史启示，向世界呼唤和平，呼唤公正，呼唤仁慈，呼唤同情，呼唤人道，呼唤文明！”\n所...\n', 'content': '', 'tags': ['漫画', '三毛', '张乐平', '童年', '中国漫画', '经典', '绘本', '中国'], 'picture': None}]
(Background on this error at: https://sqlalche.me/e/20/gkpj) (Background on this error at: https://sqlalche.me/e/20/7s2a)
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 11:32:31] "[35m[1mPOST /auth/register HTTP/1.1[0m" 500 -
ERROR:be.serve:Exception on /auth/register [POST]
Traceback (most recent call last):
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 2051, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1501, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1499, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1485, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "D:\githubcode\2\bookstore\be\view\auth.py", line 35, in register
    code, message = u.register(user_id=user_id, password=password)
  File "D:\githubcode\2\bookstore\be\model\user.py", line 73, in register
    self.conn.commit()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\session.py", line 1969, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\state_changes.py", line 103, in _go
    self._raise_for_prerequisite_state(fn.__name__, current_state)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\session.py", line 929, in _raise_for_prerequisite_state
    raise sa_exc.PendingRollbackError(
sqlalchemy.exc.PendingRollbackError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (psycopg2.errors.UniqueViolation) 错误:  重复键违反唯一约束"book_pkey"
DETAIL:  键值"(id)=(1000134)" 已经存在

[SQL: INSERT INTO book (id, title, author, publisher, original_title, translator, pub_year, pages, price, currency_unit, binding, isbn, author_intro, book_intro, content, tags, picture) VALUES (%(id)s, %(title)s, %(author)s, %(publisher)s, %(original_title)s, %(translator)s, %(pub_year)s, %(pages)s, %(price)s, %(currency_unit)s, %(binding)s, %(isbn)s, %(author_intro)s, %(book_intro)s, %(content)s, %(tags)s, %(picture)s)]
[parameters: {'id': '1000134', 'title': '三毛流浪记全集', 'author': '张乐平', 'publisher': '少年儿童出版社', 'original_title': None, 'translator': None, 'pub_year': '2001-8-1', 'pages': 261, 'price': 3000, 'currency_unit': '元', 'binding': '平装(无盘)', 'isbn': '9787532446674', 'author_intro': '张乐平，是中国当代最杰出的漫画家之一。1910年11月10日出生于浙江省海盐县海塘乡黄庵头村。父亲是位乡村教师。母亲擅长刺绣、剪纸，是张乐平最早的美术启蒙者。\n1923年，在小学老师的指导下，少年张乐平创作了平生第一张漫画《一豕负五千元》，讽刺军阀曹锟贿选，在当地名噪一时。\n1927年在家乡反 ... (1770 characters truncated) ... 情”征文特等奖。\n1991年4月4日，在《解放日报》上发表最后一幅漫画作品：“猫哺鼠”。\n1991年冬，张乐平决定将《三毛从军记》原稿捐献给上海美术馆。\n1992年1月23日，在上海华东医院因吸入性肺炎病情恶化。\n1992年9月27日下午6时，张乐平在上海华东医院与世长辞，享年82岁。\n', 'book_intro': '《三毛流浪记》所描述的三毛所生活的那个时代，已经成为了过去，但是了解过去，了解历史，却是每个人都必须完成的一份答卷。因为了解过去，了解历史可以让成长的脚步更沉着、更坚实，可以让视野更宽广，心胸更博大。在一个人成长的过程中，除了新鲜的空气，灿烂的阳光以外，更需要的冷静的思考，以及心灵的感动和震撼，而 ... (90 characters truncated) ... 和珍爱。\n《三毛流浪记》为什么经久不衰？因为它有益于人们的心灵。柯灵先生在香港版序言中写道：“《三毛流浪记》是一部很有趣味的小人书，也是一部给成人看的警世书。三毛身上，背负着沉重的历史阴影，也带了深刻的历史启示，向世界呼唤和平，呼唤公正，呼唤仁慈，呼唤同情，呼唤人道，呼唤文明！”\n所...\n', 'content': '', 'tags': ['漫画', '三毛', '张乐平', '童年', '中国漫画', '经典', '绘本', '中国'], 'picture': None}]
(Background on this error at: https://sqlalche.me/e/20/gkpj) (Background on this error at: https://sqlalche.me/e/20/7s2a)
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 11:32:31] "[35m[1mPOST /auth/register HTTP/1.1[0m" 500 -
ERROR:be.serve:Exception on /auth/register [POST]
Traceback (most recent call last):
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 2051, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1501, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1499, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1485, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "D:\githubcode\2\bookstore\be\view\auth.py", line 35, in register
    code, message = u.register(user_id=user_id, password=password)
  File "D:\githubcode\2\bookstore\be\model\user.py", line 73, in register
    self.conn.commit()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\session.py", line 1969, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\state_changes.py", line 103, in _go
    self._raise_for_prerequisite_state(fn.__name__, current_state)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\session.py", line 929, in _raise_for_prerequisite_state
    raise sa_exc.PendingRollbackError(
sqlalchemy.exc.PendingRollbackError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (psycopg2.errors.UniqueViolation) 错误:  重复键违反唯一约束"book_pkey"
DETAIL:  键值"(id)=(1000134)" 已经存在

[SQL: INSERT INTO book (id, title, author, publisher, original_title, translator, pub_year, pages, price, currency_unit, binding, isbn, author_intro, book_intro, content, tags, picture) VALUES (%(id)s, %(title)s, %(author)s, %(publisher)s, %(original_title)s, %(translator)s, %(pub_year)s, %(pages)s, %(price)s, %(currency_unit)s, %(binding)s, %(isbn)s, %(author_intro)s, %(book_intro)s, %(content)s, %(tags)s, %(picture)s)]
[parameters: {'id': '1000134', 'title': '三毛流浪记全集', 'author': '张乐平', 'publisher': '少年儿童出版社', 'original_title': None, 'translator': None, 'pub_year': '2001-8-1', 'pages': 261, 'price': 3000, 'currency_unit': '元', 'binding': '平装(无盘)', 'isbn': '9787532446674', 'author_intro': '张乐平，是中国当代最杰出的漫画家之一。1910年11月10日出生于浙江省海盐县海塘乡黄庵头村。父亲是位乡村教师。母亲擅长刺绣、剪纸，是张乐平最早的美术启蒙者。\n1923年，在小学老师的指导下，少年张乐平创作了平生第一张漫画《一豕负五千元》，讽刺军阀曹锟贿选，在当地名噪一时。\n1927年在家乡反 ... (1770 characters truncated) ... 情”征文特等奖。\n1991年4月4日，在《解放日报》上发表最后一幅漫画作品：“猫哺鼠”。\n1991年冬，张乐平决定将《三毛从军记》原稿捐献给上海美术馆。\n1992年1月23日，在上海华东医院因吸入性肺炎病情恶化。\n1992年9月27日下午6时，张乐平在上海华东医院与世长辞，享年82岁。\n', 'book_intro': '《三毛流浪记》所描述的三毛所生活的那个时代，已经成为了过去，但是了解过去，了解历史，却是每个人都必须完成的一份答卷。因为了解过去，了解历史可以让成长的脚步更沉着、更坚实，可以让视野更宽广，心胸更博大。在一个人成长的过程中，除了新鲜的空气，灿烂的阳光以外，更需要的冷静的思考，以及心灵的感动和震撼，而 ... (90 characters truncated) ... 和珍爱。\n《三毛流浪记》为什么经久不衰？因为它有益于人们的心灵。柯灵先生在香港版序言中写道：“《三毛流浪记》是一部很有趣味的小人书，也是一部给成人看的警世书。三毛身上，背负着沉重的历史阴影，也带了深刻的历史启示，向世界呼唤和平，呼唤公正，呼唤仁慈，呼唤同情，呼唤人道，呼唤文明！”\n所...\n', 'content': '', 'tags': ['漫画', '三毛', '张乐平', '童年', '中国漫画', '经典', '绘本', '中国'], 'picture': None}]
(Background on this error at: https://sqlalche.me/e/20/gkpj) (Background on this error at: https://sqlalche.me/e/20/7s2a)
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 11:32:31] "[35m[1mPOST /auth/register HTTP/1.1[0m" 500 -
ERROR:be.serve:Exception on /auth/register [POST]
Traceback (most recent call last):
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 2051, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1501, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1499, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1485, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "D:\githubcode\2\bookstore\be\view\auth.py", line 35, in register
    code, message = u.register(user_id=user_id, password=password)
  File "D:\githubcode\2\bookstore\be\model\user.py", line 73, in register
    self.conn.commit()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\session.py", line 1969, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\state_changes.py", line 103, in _go
    self._raise_for_prerequisite_state(fn.__name__, current_state)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\session.py", line 929, in _raise_for_prerequisite_state
    raise sa_exc.PendingRollbackError(
sqlalchemy.exc.PendingRollbackError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (psycopg2.errors.UniqueViolation) 错误:  重复键违反唯一约束"book_pkey"
DETAIL:  键值"(id)=(1000134)" 已经存在

[SQL: INSERT INTO book (id, title, author, publisher, original_title, translator, pub_year, pages, price, currency_unit, binding, isbn, author_intro, book_intro, content, tags, picture) VALUES (%(id)s, %(title)s, %(author)s, %(publisher)s, %(original_title)s, %(translator)s, %(pub_year)s, %(pages)s, %(price)s, %(currency_unit)s, %(binding)s, %(isbn)s, %(author_intro)s, %(book_intro)s, %(content)s, %(tags)s, %(picture)s)]
[parameters: {'id': '1000134', 'title': '三毛流浪记全集', 'author': '张乐平', 'publisher': '少年儿童出版社', 'original_title': None, 'translator': None, 'pub_year': '2001-8-1', 'pages': 261, 'price': 3000, 'currency_unit': '元', 'binding': '平装(无盘)', 'isbn': '9787532446674', 'author_intro': '张乐平，是中国当代最杰出的漫画家之一。1910年11月10日出生于浙江省海盐县海塘乡黄庵头村。父亲是位乡村教师。母亲擅长刺绣、剪纸，是张乐平最早的美术启蒙者。\n1923年，在小学老师的指导下，少年张乐平创作了平生第一张漫画《一豕负五千元》，讽刺军阀曹锟贿选，在当地名噪一时。\n1927年在家乡反 ... (1770 characters truncated) ... 情”征文特等奖。\n1991年4月4日，在《解放日报》上发表最后一幅漫画作品：“猫哺鼠”。\n1991年冬，张乐平决定将《三毛从军记》原稿捐献给上海美术馆。\n1992年1月23日，在上海华东医院因吸入性肺炎病情恶化。\n1992年9月27日下午6时，张乐平在上海华东医院与世长辞，享年82岁。\n', 'book_intro': '《三毛流浪记》所描述的三毛所生活的那个时代，已经成为了过去，但是了解过去，了解历史，却是每个人都必须完成的一份答卷。因为了解过去，了解历史可以让成长的脚步更沉着、更坚实，可以让视野更宽广，心胸更博大。在一个人成长的过程中，除了新鲜的空气，灿烂的阳光以外，更需要的冷静的思考，以及心灵的感动和震撼，而 ... (90 characters truncated) ... 和珍爱。\n《三毛流浪记》为什么经久不衰？因为它有益于人们的心灵。柯灵先生在香港版序言中写道：“《三毛流浪记》是一部很有趣味的小人书，也是一部给成人看的警世书。三毛身上，背负着沉重的历史阴影，也带了深刻的历史启示，向世界呼唤和平，呼唤公正，呼唤仁慈，呼唤同情，呼唤人道，呼唤文明！”\n所...\n', 'content': '', 'tags': ['漫画', '三毛', '张乐平', '童年', '中国漫画', '经典', '绘本', '中国'], 'picture': None}]
(Background on this error at: https://sqlalche.me/e/20/gkpj) (Background on this error at: https://sqlalche.me/e/20/7s2a)
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 11:32:31] "[35m[1mPOST /auth/register HTTP/1.1[0m" 500 -
ERROR:be.serve:Exception on /auth/register [POST]
Traceback (most recent call last):
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 2051, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1501, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1499, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1485, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "D:\githubcode\2\bookstore\be\view\auth.py", line 35, in register
    code, message = u.register(user_id=user_id, password=password)
  File "D:\githubcode\2\bookstore\be\model\user.py", line 73, in register
    self.conn.commit()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\session.py", line 1969, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\state_changes.py", line 103, in _go
    self._raise_for_prerequisite_state(fn.__name__, current_state)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\session.py", line 929, in _raise_for_prerequisite_state
    raise sa_exc.PendingRollbackError(
sqlalchemy.exc.PendingRollbackError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (psycopg2.errors.UniqueViolation) 错误:  重复键违反唯一约束"book_pkey"
DETAIL:  键值"(id)=(1000134)" 已经存在

[SQL: INSERT INTO book (id, title, author, publisher, original_title, translator, pub_year, pages, price, currency_unit, binding, isbn, author_intro, book_intro, content, tags, picture) VALUES (%(id)s, %(title)s, %(author)s, %(publisher)s, %(original_title)s, %(translator)s, %(pub_year)s, %(pages)s, %(price)s, %(currency_unit)s, %(binding)s, %(isbn)s, %(author_intro)s, %(book_intro)s, %(content)s, %(tags)s, %(picture)s)]
[parameters: {'id': '1000134', 'title': '三毛流浪记全集', 'author': '张乐平', 'publisher': '少年儿童出版社', 'original_title': None, 'translator': None, 'pub_year': '2001-8-1', 'pages': 261, 'price': 3000, 'currency_unit': '元', 'binding': '平装(无盘)', 'isbn': '9787532446674', 'author_intro': '张乐平，是中国当代最杰出的漫画家之一。1910年11月10日出生于浙江省海盐县海塘乡黄庵头村。父亲是位乡村教师。母亲擅长刺绣、剪纸，是张乐平最早的美术启蒙者。\n1923年，在小学老师的指导下，少年张乐平创作了平生第一张漫画《一豕负五千元》，讽刺军阀曹锟贿选，在当地名噪一时。\n1927年在家乡反 ... (1770 characters truncated) ... 情”征文特等奖。\n1991年4月4日，在《解放日报》上发表最后一幅漫画作品：“猫哺鼠”。\n1991年冬，张乐平决定将《三毛从军记》原稿捐献给上海美术馆。\n1992年1月23日，在上海华东医院因吸入性肺炎病情恶化。\n1992年9月27日下午6时，张乐平在上海华东医院与世长辞，享年82岁。\n', 'book_intro': '《三毛流浪记》所描述的三毛所生活的那个时代，已经成为了过去，但是了解过去，了解历史，却是每个人都必须完成的一份答卷。因为了解过去，了解历史可以让成长的脚步更沉着、更坚实，可以让视野更宽广，心胸更博大。在一个人成长的过程中，除了新鲜的空气，灿烂的阳光以外，更需要的冷静的思考，以及心灵的感动和震撼，而 ... (90 characters truncated) ... 和珍爱。\n《三毛流浪记》为什么经久不衰？因为它有益于人们的心灵。柯灵先生在香港版序言中写道：“《三毛流浪记》是一部很有趣味的小人书，也是一部给成人看的警世书。三毛身上，背负着沉重的历史阴影，也带了深刻的历史启示，向世界呼唤和平，呼唤公正，呼唤仁慈，呼唤同情，呼唤人道，呼唤文明！”\n所...\n', 'content': '', 'tags': ['漫画', '三毛', '张乐平', '童年', '中国漫画', '经典', '绘本', '中国'], 'picture': None}]
(Background on this error at: https://sqlalche.me/e/20/gkpj) (Background on this error at: https://sqlalche.me/e/20/7s2a)
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 11:32:32] "[35m[1mPOST /auth/register HTTP/1.1[0m" 500 -
ERROR:be.serve:Exception on /auth/register [POST]
Traceback (most recent call last):
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 2051, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1501, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1499, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1485, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "D:\githubcode\2\bookstore\be\view\auth.py", line 35, in register
    code, message = u.register(user_id=user_id, password=password)
  File "D:\githubcode\2\bookstore\be\model\user.py", line 73, in register
    self.conn.commit()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\session.py", line 1969, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\state_changes.py", line 103, in _go
    self._raise_for_prerequisite_state(fn.__name__, current_state)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\session.py", line 929, in _raise_for_prerequisite_state
    raise sa_exc.PendingRollbackError(
sqlalchemy.exc.PendingRollbackError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (psycopg2.errors.UniqueViolation) 错误:  重复键违反唯一约束"book_pkey"
DETAIL:  键值"(id)=(1000134)" 已经存在

[SQL: INSERT INTO book (id, title, author, publisher, original_title, translator, pub_year, pages, price, currency_unit, binding, isbn, author_intro, book_intro, content, tags, picture) VALUES (%(id)s, %(title)s, %(author)s, %(publisher)s, %(original_title)s, %(translator)s, %(pub_year)s, %(pages)s, %(price)s, %(currency_unit)s, %(binding)s, %(isbn)s, %(author_intro)s, %(book_intro)s, %(content)s, %(tags)s, %(picture)s)]
[parameters: {'id': '1000134', 'title': '三毛流浪记全集', 'author': '张乐平', 'publisher': '少年儿童出版社', 'original_title': None, 'translator': None, 'pub_year': '2001-8-1', 'pages': 261, 'price': 3000, 'currency_unit': '元', 'binding': '平装(无盘)', 'isbn': '9787532446674', 'author_intro': '张乐平，是中国当代最杰出的漫画家之一。1910年11月10日出生于浙江省海盐县海塘乡黄庵头村。父亲是位乡村教师。母亲擅长刺绣、剪纸，是张乐平最早的美术启蒙者。\n1923年，在小学老师的指导下，少年张乐平创作了平生第一张漫画《一豕负五千元》，讽刺军阀曹锟贿选，在当地名噪一时。\n1927年在家乡反 ... (1770 characters truncated) ... 情”征文特等奖。\n1991年4月4日，在《解放日报》上发表最后一幅漫画作品：“猫哺鼠”。\n1991年冬，张乐平决定将《三毛从军记》原稿捐献给上海美术馆。\n1992年1月23日，在上海华东医院因吸入性肺炎病情恶化。\n1992年9月27日下午6时，张乐平在上海华东医院与世长辞，享年82岁。\n', 'book_intro': '《三毛流浪记》所描述的三毛所生活的那个时代，已经成为了过去，但是了解过去，了解历史，却是每个人都必须完成的一份答卷。因为了解过去，了解历史可以让成长的脚步更沉着、更坚实，可以让视野更宽广，心胸更博大。在一个人成长的过程中，除了新鲜的空气，灿烂的阳光以外，更需要的冷静的思考，以及心灵的感动和震撼，而 ... (90 characters truncated) ... 和珍爱。\n《三毛流浪记》为什么经久不衰？因为它有益于人们的心灵。柯灵先生在香港版序言中写道：“《三毛流浪记》是一部很有趣味的小人书，也是一部给成人看的警世书。三毛身上，背负着沉重的历史阴影，也带了深刻的历史启示，向世界呼唤和平，呼唤公正，呼唤仁慈，呼唤同情，呼唤人道，呼唤文明！”\n所...\n', 'content': '', 'tags': ['漫画', '三毛', '张乐平', '童年', '中国漫画', '经典', '绘本', '中国'], 'picture': None}]
(Background on this error at: https://sqlalche.me/e/20/gkpj) (Background on this error at: https://sqlalche.me/e/20/7s2a)
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 11:32:32] "[35m[1mPOST /auth/register HTTP/1.1[0m" 500 -
ERROR:be.serve:Exception on /auth/register [POST]
Traceback (most recent call last):
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 2051, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1501, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1499, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1485, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "D:\githubcode\2\bookstore\be\view\auth.py", line 35, in register
    code, message = u.register(user_id=user_id, password=password)
  File "D:\githubcode\2\bookstore\be\model\user.py", line 73, in register
    self.conn.commit()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\session.py", line 1969, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\state_changes.py", line 103, in _go
    self._raise_for_prerequisite_state(fn.__name__, current_state)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\session.py", line 929, in _raise_for_prerequisite_state
    raise sa_exc.PendingRollbackError(
sqlalchemy.exc.PendingRollbackError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (psycopg2.errors.UniqueViolation) 错误:  重复键违反唯一约束"book_pkey"
DETAIL:  键值"(id)=(1000134)" 已经存在

[SQL: INSERT INTO book (id, title, author, publisher, original_title, translator, pub_year, pages, price, currency_unit, binding, isbn, author_intro, book_intro, content, tags, picture) VALUES (%(id)s, %(title)s, %(author)s, %(publisher)s, %(original_title)s, %(translator)s, %(pub_year)s, %(pages)s, %(price)s, %(currency_unit)s, %(binding)s, %(isbn)s, %(author_intro)s, %(book_intro)s, %(content)s, %(tags)s, %(picture)s)]
[parameters: {'id': '1000134', 'title': '三毛流浪记全集', 'author': '张乐平', 'publisher': '少年儿童出版社', 'original_title': None, 'translator': None, 'pub_year': '2001-8-1', 'pages': 261, 'price': 3000, 'currency_unit': '元', 'binding': '平装(无盘)', 'isbn': '9787532446674', 'author_intro': '张乐平，是中国当代最杰出的漫画家之一。1910年11月10日出生于浙江省海盐县海塘乡黄庵头村。父亲是位乡村教师。母亲擅长刺绣、剪纸，是张乐平最早的美术启蒙者。\n1923年，在小学老师的指导下，少年张乐平创作了平生第一张漫画《一豕负五千元》，讽刺军阀曹锟贿选，在当地名噪一时。\n1927年在家乡反 ... (1770 characters truncated) ... 情”征文特等奖。\n1991年4月4日，在《解放日报》上发表最后一幅漫画作品：“猫哺鼠”。\n1991年冬，张乐平决定将《三毛从军记》原稿捐献给上海美术馆。\n1992年1月23日，在上海华东医院因吸入性肺炎病情恶化。\n1992年9月27日下午6时，张乐平在上海华东医院与世长辞，享年82岁。\n', 'book_intro': '《三毛流浪记》所描述的三毛所生活的那个时代，已经成为了过去，但是了解过去，了解历史，却是每个人都必须完成的一份答卷。因为了解过去，了解历史可以让成长的脚步更沉着、更坚实，可以让视野更宽广，心胸更博大。在一个人成长的过程中，除了新鲜的空气，灿烂的阳光以外，更需要的冷静的思考，以及心灵的感动和震撼，而 ... (90 characters truncated) ... 和珍爱。\n《三毛流浪记》为什么经久不衰？因为它有益于人们的心灵。柯灵先生在香港版序言中写道：“《三毛流浪记》是一部很有趣味的小人书，也是一部给成人看的警世书。三毛身上，背负着沉重的历史阴影，也带了深刻的历史启示，向世界呼唤和平，呼唤公正，呼唤仁慈，呼唤同情，呼唤人道，呼唤文明！”\n所...\n', 'content': '', 'tags': ['漫画', '三毛', '张乐平', '童年', '中国漫画', '经典', '绘本', '中国'], 'picture': None}]
(Background on this error at: https://sqlalche.me/e/20/gkpj) (Background on this error at: https://sqlalche.me/e/20/7s2a)
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 11:32:32] "[35m[1mPOST /auth/register HTTP/1.1[0m" 500 -
ERROR:be.serve:Exception on /auth/register [POST]
Traceback (most recent call last):
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 2051, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1501, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1499, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1485, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "D:\githubcode\2\bookstore\be\view\auth.py", line 35, in register
    code, message = u.register(user_id=user_id, password=password)
  File "D:\githubcode\2\bookstore\be\model\user.py", line 73, in register
    self.conn.commit()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\session.py", line 1969, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\state_changes.py", line 103, in _go
    self._raise_for_prerequisite_state(fn.__name__, current_state)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\session.py", line 929, in _raise_for_prerequisite_state
    raise sa_exc.PendingRollbackError(
sqlalchemy.exc.PendingRollbackError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (psycopg2.errors.UniqueViolation) 错误:  重复键违反唯一约束"book_pkey"
DETAIL:  键值"(id)=(1000134)" 已经存在

[SQL: INSERT INTO book (id, title, author, publisher, original_title, translator, pub_year, pages, price, currency_unit, binding, isbn, author_intro, book_intro, content, tags, picture) VALUES (%(id)s, %(title)s, %(author)s, %(publisher)s, %(original_title)s, %(translator)s, %(pub_year)s, %(pages)s, %(price)s, %(currency_unit)s, %(binding)s, %(isbn)s, %(author_intro)s, %(book_intro)s, %(content)s, %(tags)s, %(picture)s)]
[parameters: {'id': '1000134', 'title': '三毛流浪记全集', 'author': '张乐平', 'publisher': '少年儿童出版社', 'original_title': None, 'translator': None, 'pub_year': '2001-8-1', 'pages': 261, 'price': 3000, 'currency_unit': '元', 'binding': '平装(无盘)', 'isbn': '9787532446674', 'author_intro': '张乐平，是中国当代最杰出的漫画家之一。1910年11月10日出生于浙江省海盐县海塘乡黄庵头村。父亲是位乡村教师。母亲擅长刺绣、剪纸，是张乐平最早的美术启蒙者。\n1923年，在小学老师的指导下，少年张乐平创作了平生第一张漫画《一豕负五千元》，讽刺军阀曹锟贿选，在当地名噪一时。\n1927年在家乡反 ... (1770 characters truncated) ... 情”征文特等奖。\n1991年4月4日，在《解放日报》上发表最后一幅漫画作品：“猫哺鼠”。\n1991年冬，张乐平决定将《三毛从军记》原稿捐献给上海美术馆。\n1992年1月23日，在上海华东医院因吸入性肺炎病情恶化。\n1992年9月27日下午6时，张乐平在上海华东医院与世长辞，享年82岁。\n', 'book_intro': '《三毛流浪记》所描述的三毛所生活的那个时代，已经成为了过去，但是了解过去，了解历史，却是每个人都必须完成的一份答卷。因为了解过去，了解历史可以让成长的脚步更沉着、更坚实，可以让视野更宽广，心胸更博大。在一个人成长的过程中，除了新鲜的空气，灿烂的阳光以外，更需要的冷静的思考，以及心灵的感动和震撼，而 ... (90 characters truncated) ... 和珍爱。\n《三毛流浪记》为什么经久不衰？因为它有益于人们的心灵。柯灵先生在香港版序言中写道：“《三毛流浪记》是一部很有趣味的小人书，也是一部给成人看的警世书。三毛身上，背负着沉重的历史阴影，也带了深刻的历史启示，向世界呼唤和平，呼唤公正，呼唤仁慈，呼唤同情，呼唤人道，呼唤文明！”\n所...\n', 'content': '', 'tags': ['漫画', '三毛', '张乐平', '童年', '中国漫画', '经典', '绘本', '中国'], 'picture': None}]
(Background on this error at: https://sqlalche.me/e/20/gkpj) (Background on this error at: https://sqlalche.me/e/20/7s2a)
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 11:32:32] "[35m[1mPOST /auth/register HTTP/1.1[0m" 500 -
ERROR:be.serve:Exception on /auth/register [POST]
Traceback (most recent call last):
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 2051, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1501, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1499, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1485, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "D:\githubcode\2\bookstore\be\view\auth.py", line 35, in register
    code, message = u.register(user_id=user_id, password=password)
  File "D:\githubcode\2\bookstore\be\model\user.py", line 73, in register
    self.conn.commit()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\session.py", line 1969, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\state_changes.py", line 103, in _go
    self._raise_for_prerequisite_state(fn.__name__, current_state)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\session.py", line 929, in _raise_for_prerequisite_state
    raise sa_exc.PendingRollbackError(
sqlalchemy.exc.PendingRollbackError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (psycopg2.errors.UniqueViolation) 错误:  重复键违反唯一约束"book_pkey"
DETAIL:  键值"(id)=(1000134)" 已经存在

[SQL: INSERT INTO book (id, title, author, publisher, original_title, translator, pub_year, pages, price, currency_unit, binding, isbn, author_intro, book_intro, content, tags, picture) VALUES (%(id)s, %(title)s, %(author)s, %(publisher)s, %(original_title)s, %(translator)s, %(pub_year)s, %(pages)s, %(price)s, %(currency_unit)s, %(binding)s, %(isbn)s, %(author_intro)s, %(book_intro)s, %(content)s, %(tags)s, %(picture)s)]
[parameters: {'id': '1000134', 'title': '三毛流浪记全集', 'author': '张乐平', 'publisher': '少年儿童出版社', 'original_title': None, 'translator': None, 'pub_year': '2001-8-1', 'pages': 261, 'price': 3000, 'currency_unit': '元', 'binding': '平装(无盘)', 'isbn': '9787532446674', 'author_intro': '张乐平，是中国当代最杰出的漫画家之一。1910年11月10日出生于浙江省海盐县海塘乡黄庵头村。父亲是位乡村教师。母亲擅长刺绣、剪纸，是张乐平最早的美术启蒙者。\n1923年，在小学老师的指导下，少年张乐平创作了平生第一张漫画《一豕负五千元》，讽刺军阀曹锟贿选，在当地名噪一时。\n1927年在家乡反 ... (1770 characters truncated) ... 情”征文特等奖。\n1991年4月4日，在《解放日报》上发表最后一幅漫画作品：“猫哺鼠”。\n1991年冬，张乐平决定将《三毛从军记》原稿捐献给上海美术馆。\n1992年1月23日，在上海华东医院因吸入性肺炎病情恶化。\n1992年9月27日下午6时，张乐平在上海华东医院与世长辞，享年82岁。\n', 'book_intro': '《三毛流浪记》所描述的三毛所生活的那个时代，已经成为了过去，但是了解过去，了解历史，却是每个人都必须完成的一份答卷。因为了解过去，了解历史可以让成长的脚步更沉着、更坚实，可以让视野更宽广，心胸更博大。在一个人成长的过程中，除了新鲜的空气，灿烂的阳光以外，更需要的冷静的思考，以及心灵的感动和震撼，而 ... (90 characters truncated) ... 和珍爱。\n《三毛流浪记》为什么经久不衰？因为它有益于人们的心灵。柯灵先生在香港版序言中写道：“《三毛流浪记》是一部很有趣味的小人书，也是一部给成人看的警世书。三毛身上，背负着沉重的历史阴影，也带了深刻的历史启示，向世界呼唤和平，呼唤公正，呼唤仁慈，呼唤同情，呼唤人道，呼唤文明！”\n所...\n', 'content': '', 'tags': ['漫画', '三毛', '张乐平', '童年', '中国漫画', '经典', '绘本', '中国'], 'picture': None}]
(Background on this error at: https://sqlalche.me/e/20/gkpj) (Background on this error at: https://sqlalche.me/e/20/7s2a)
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 11:32:32] "[35m[1mPOST /auth/register HTTP/1.1[0m" 500 -
ERROR:be.serve:Exception on /auth/register [POST]
Traceback (most recent call last):
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 2051, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1501, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1499, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1485, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "D:\githubcode\2\bookstore\be\view\auth.py", line 35, in register
    code, message = u.register(user_id=user_id, password=password)
  File "D:\githubcode\2\bookstore\be\model\user.py", line 73, in register
    self.conn.commit()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\session.py", line 1969, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\state_changes.py", line 103, in _go
    self._raise_for_prerequisite_state(fn.__name__, current_state)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\sqlalchemy\orm\session.py", line 929, in _raise_for_prerequisite_state
    raise sa_exc.PendingRollbackError(
sqlalchemy.exc.PendingRollbackError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (psycopg2.errors.UniqueViolation) 错误:  重复键违反唯一约束"book_pkey"
DETAIL:  键值"(id)=(1000134)" 已经存在

[SQL: INSERT INTO book (id, title, author, publisher, original_title, translator, pub_year, pages, price, currency_unit, binding, isbn, author_intro, book_intro, content, tags, picture) VALUES (%(id)s, %(title)s, %(author)s, %(publisher)s, %(original_title)s, %(translator)s, %(pub_year)s, %(pages)s, %(price)s, %(currency_unit)s, %(binding)s, %(isbn)s, %(author_intro)s, %(book_intro)s, %(content)s, %(tags)s, %(picture)s)]
[parameters: {'id': '1000134', 'title': '三毛流浪记全集', 'author': '张乐平', 'publisher': '少年儿童出版社', 'original_title': None, 'translator': None, 'pub_year': '2001-8-1', 'pages': 261, 'price': 3000, 'currency_unit': '元', 'binding': '平装(无盘)', 'isbn': '9787532446674', 'author_intro': '张乐平，是中国当代最杰出的漫画家之一。1910年11月10日出生于浙江省海盐县海塘乡黄庵头村。父亲是位乡村教师。母亲擅长刺绣、剪纸，是张乐平最早的美术启蒙者。\n1923年，在小学老师的指导下，少年张乐平创作了平生第一张漫画《一豕负五千元》，讽刺军阀曹锟贿选，在当地名噪一时。\n1927年在家乡反 ... (1770 characters truncated) ... 情”征文特等奖。\n1991年4月4日，在《解放日报》上发表最后一幅漫画作品：“猫哺鼠”。\n1991年冬，张乐平决定将《三毛从军记》原稿捐献给上海美术馆。\n1992年1月23日，在上海华东医院因吸入性肺炎病情恶化。\n1992年9月27日下午6时，张乐平在上海华东医院与世长辞，享年82岁。\n', 'book_intro': '《三毛流浪记》所描述的三毛所生活的那个时代，已经成为了过去，但是了解过去，了解历史，却是每个人都必须完成的一份答卷。因为了解过去，了解历史可以让成长的脚步更沉着、更坚实，可以让视野更宽广，心胸更博大。在一个人成长的过程中，除了新鲜的空气，灿烂的阳光以外，更需要的冷静的思考，以及心灵的感动和震撼，而 ... (90 characters truncated) ... 和珍爱。\n《三毛流浪记》为什么经久不衰？因为它有益于人们的心灵。柯灵先生在香港版序言中写道：“《三毛流浪记》是一部很有趣味的小人书，也是一部给成人看的警世书。三毛身上，背负着沉重的历史阴影，也带了深刻的历史启示，向世界呼唤和平，呼唤公正，呼唤仁慈，呼唤同情，呼唤人道，呼唤文明！”\n所...\n', 'content': '', 'tags': ['漫画', '三毛', '张乐平', '童年', '中国漫画', '经典', '绘本', '中国'], 'picture': None}]
(Background on this error at: https://sqlalche.me/e/20/gkpj) (Background on this error at: https://sqlalche.me/e/20/7s2a)
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 11:32:32] "[35m[1mPOST /auth/register HTTP/1.1[0m" 500 -
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 11:32:32] "GET /shutdown HTTP/1.1" 200 -
INFO:werkzeug: * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 12:05:47] "[35m[1mPOST /seller/add_book HTTP/1.1[0m" 511 -
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 12:06:01] "POST /auth/register HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 12:06:03] "POST /seller/create_store HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 12:06:06] "[35m[1mPOST /seller/add_book HTTP/1.1[0m" 530 -
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 12:07:08] "[35m[1mPOST /seller/add_book HTTP/1.1[0m" 530 -
INFO:werkzeug: * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 12:07:14] "[35m[1mPOST /seller/add_book HTTP/1.1[0m" 530 -
INFO:werkzeug: * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 12:07:52] "[35m[1mPOST /seller/add_book HTTP/1.1[0m" 530 -
INFO:werkzeug: * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 12:09:00] "[35m[1mPOST /seller/add_book HTTP/1.1[0m" 530 -
INFO:werkzeug: * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 12:09:38] "[35m[1mPOST /seller/add_book HTTP/1.1[0m" 530 -
INFO:werkzeug: * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 12:14:44] "POST /auth/register HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 12:15:06] "[35m[1mPOST /buyer/new_order HTTP/1.1[0m" 530 -
INFO:werkzeug: * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
ERROR:be.serve:Exception on /buyer/new_order [POST]
Traceback (most recent call last):
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 2051, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1501, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1499, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1485, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "D:\githubcode\2\bookstore\be\view\buyer.py", line 21, in new_order
    code, message, order_id = b.new_order(user_id, store_id, id_and_count)
ValueError: too many values to unpack (expected 3)
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 12:25:18] "[35m[1mPOST /buyer/new_order HTTP/1.1[0m" 500 -
INFO:werkzeug: * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
ERROR:be.serve:Exception on /buyer/new_order [POST]
Traceback (most recent call last):
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 2051, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1501, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1499, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1485, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "D:\githubcode\2\bookstore\be\view\buyer.py", line 23, in new_order
    code, message, order_id = r
ValueError: too many values to unpack (expected 3)
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 12:27:08] "[35m[1mPOST /buyer/new_order HTTP/1.1[0m" 500 -
INFO:werkzeug: * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 12:28:39] "[35m[1mPOST /buyer/new_order HTTP/1.1[0m" 515 -
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 12:28:57] "[35m[1mPOST /seller/add_stock_level HTTP/1.1[0m" 515 -
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 12:29:03] "[35m[1mPOST /seller/add_stock_level HTTP/1.1[0m" 515 -
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 12:29:16] "POST /seller/add_book HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 12:29:22] "POST /seller/add_stock_level HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 12:29:26] "[35m[1mPOST /buyer/new_order HTTP/1.1[0m" 530 -
INFO:werkzeug: * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 14:18:14] "POST /buyer/buyer_orders HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 14:18:40] "POST /buyer/buyer_orders HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 14:20:13] "POST /buyer/buyer_orders HTTP/1.1" 200 -
INFO:werkzeug: * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 14:20:20] "POST /buyer/buyer_orders HTTP/1.1" 200 -
INFO:werkzeug: * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 14:21:36] "[35m[1mPOST /buyer/buyer_orders HTTP/1.1[0m" 530 -
INFO:werkzeug: * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 14:21:53] "POST /buyer/buyer_orders HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 14:22:39] "POST /buyer/buyer_orders HTTP/1.1" 200 -
INFO:werkzeug: * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 14:24:24] "POST /buyer/buyer_orders HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 14:28:27] "POST /seller/seller_orders HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 14:29:37] "[35m[1mPOST /buyer/new_order HTTP/1.1[0m" 511 -
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 14:30:15] "POST /auth/register HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 14:30:26] "POST /seller/create_store HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 14:30:33] "[35m[1mPOST /seller/add_book HTTP/1.1[0m" 513 -
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 14:30:39] "POST /seller/add_book HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 14:30:55] "[35m[1mPOST /seller/add_stock_level HTTP/1.1[0m" 513 -
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 14:30:59] "POST /seller/add_stock_level HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 14:31:15] "[35m[1mPOST /buyer/new_order HTTP/1.1[0m" 511 -
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 14:31:27] "POST /auth/register HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 14:31:32] "[35m[1mPOST /buyer/new_order HTTP/1.1[0m" 513 -
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 14:31:36] "POST /buyer/new_order HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 14:32:04] "POST /buyer/buyer_orders HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 14:32:16] "POST /buyer/buyer_orders HTTP/1.1" 200 -
ERROR:be.serve:Exception on /seller/seller_orders [POST]
Traceback (most recent call last):
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 2051, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1501, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1499, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1485, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "D:\githubcode\2\bookstore\be\view\seller.py", line 62, in get_seller_orders
    return jsonify({"message": message, "orders": orders}), code
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\json\__init__.py", line 348, in jsonify
    f"{dumps(data, indent=indent, separators=separators)}\n",
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\json\__init__.py", line 129, in dumps
    rv = _json.dumps(obj, **kwargs)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\json\__init__.py", line 234, in dumps
    return cls(
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\json\encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\json\encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\json\__init__.py", line 56, in default
    return super().default(o)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\json\encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type InstanceState is not JSON serializable
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 14:33:32] "[35m[1mPOST /seller/seller_orders HTTP/1.1[0m" 500 -
INFO:werkzeug: * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 14:43:21] "[35m[1mPOST /seller/seller_orders HTTP/1.1[0m" 530 -
INFO:werkzeug: * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
ERROR:be.serve:Exception on /seller/seller_orders [POST]
Traceback (most recent call last):
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 2051, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1501, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1499, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1485, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "D:\githubcode\2\bookstore\be\view\seller.py", line 62, in get_seller_orders
    return jsonify({"message": message, "orders": orders}), code
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\json\__init__.py", line 348, in jsonify
    f"{dumps(data, indent=indent, separators=separators)}\n",
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\json\__init__.py", line 129, in dumps
    rv = _json.dumps(obj, **kwargs)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\json\__init__.py", line 234, in dumps
    return cls(
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\json\encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\json\encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\json\__init__.py", line 56, in default
    return super().default(o)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\json\encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type InstanceState is not JSON serializable
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 14:44:09] "[35m[1mPOST /seller/seller_orders HTTP/1.1[0m" 500 -
INFO:werkzeug: * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 14:48:14] "POST /seller/seller_orders HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 14:48:37] "POST /buyer/buyer_orders HTTP/1.1" 200 -
INFO:werkzeug: * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
INFO:werkzeug: * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
INFO:werkzeug: * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
INFO:werkzeug: * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
INFO:werkzeug: * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 15:31:49] "[35m[1mPOST /book/search_all HTTP/1.1[0m" 530 -
INFO:werkzeug: * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 15:32:56] "[35m[1mPOST /book/search_all HTTP/1.1[0m" 530 -
INFO:werkzeug: * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 15:33:34] "[35m[1mPOST /book/search_all HTTP/1.1[0m" 530 -
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 15:34:19] "[35m[1mPOST /book/search_all HTTP/1.1[0m" 530 -
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 15:35:49] "[35m[1mPOST /book/search_all HTTP/1.1[0m" 530 -
INFO:werkzeug: * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 15:35:56] "[35m[1mPOST /book/search_all HTTP/1.1[0m" 530 -
INFO:werkzeug: * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 15:38:58] "POST /book/search_all HTTP/1.1" 200 -
INFO:werkzeug: * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 18:19:07] "POST /auth/register HTTP/1.1" 200 -
INFO:werkzeug: * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 18:25:45] "[35m[1mPOST /book/search_in_store HTTP/1.1[0m" 530 -
INFO:werkzeug: * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 18:27:29] "[35m[1mPOST /book/search_in_store HTTP/1.1[0m" 530 -
INFO:werkzeug: * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 18:31:10] "POST /book/search_in_store HTTP/1.1" 200 -
INFO:werkzeug: * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 18:44:16] "POST /book/search_all HTTP/1.1" 200 -
INFO:werkzeug: * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 20:13:43] "POST /book/search_all HTTP/1.1" 200 -
INFO:werkzeug: * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 20:20:09] "[35m[1mPOST /book/search_all HTTP/1.1[0m" 530 -
INFO:werkzeug: * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 20:22:08] "POST /book/search_all HTTP/1.1" 200 -
INFO:werkzeug: * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 20:27:37] "POST /book/search_all HTTP/1.1" 200 -
INFO:werkzeug: * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 20:33:09] "POST /book/search_all HTTP/1.1" 200 -
INFO:werkzeug: * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 20:35:29] "POST /book/search_all HTTP/1.1" 200 -
INFO:werkzeug: * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
ERROR:be.serve:Exception on /book/search_all [POST]
Traceback (most recent call last):
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 2051, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1501, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1499, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\tuzi\.conda\envs\bookstore\lib\site-packages\flask\app.py", line 1485, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "D:\githubcode\2\bookstore\be\view\book.py", line 38, in search_all
    code, data = u.search_all(
TypeError: search_all() missing 2 required positional arguments: 'page' and 'per_page'
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 20:35:57] "[35m[1mPOST /book/search_all HTTP/1.1[0m" 500 -
INFO:werkzeug: * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 20:37:54] "POST /book/search_all HTTP/1.1" 200 -
INFO:werkzeug: * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 20:40:19] "POST /book/search_all HTTP/1.1" 200 -
INFO:werkzeug: * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 20:40:56] "POST /book/search_all HTTP/1.1" 200 -
INFO:werkzeug: * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 20:41:45] "POST /book/search_all HTTP/1.1" 200 -
INFO:werkzeug: * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 20:42:07] "POST /book/search_all HTTP/1.1" 200 -
INFO:werkzeug: * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 20:43:06] "POST /book/search_all HTTP/1.1" 200 -
INFO:werkzeug: * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 20:44:06] "POST /book/search_all HTTP/1.1" 200 -
INFO:werkzeug: * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 20:44:18] "POST /book/search_all HTTP/1.1" 200 -
INFO:werkzeug: * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 20:44:28] "POST /book/search_all HTTP/1.1" 200 -
INFO:werkzeug: * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 20:47:16] "POST /book/search_all HTTP/1.1" 200 -
INFO:werkzeug: * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
INFO:werkzeug:127.0.0.1 - - [19/Dec/2023 20:47:43] "POST /book/search_all HTTP/1.1" 200 -
INFO:werkzeug: * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
INFO:werkzeug: * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
INFO:werkzeug:127.0.0.1 - - [20/Dec/2023 19:42:07] "POST /buyer/cancel_order HTTP/1.1" 200 -
